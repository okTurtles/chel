import{a as g}from"./chunk-C2RYSN35-cached.js";import{d as y}from"./chunk-OYX4NVDU-cached.js";import{m as S}from"./chunk-WWKTCH3O-cached.js";import{a as A}from"./chunk-KRTYB7RO-cached.js";import{a as _}from"./chunk-P7FSS7WT-cached.js";import{d as f}from"./chunk-WBBXU2FL-cached.js";var w={name:"PaymentRowRecord",components:{PaymentRow:g},props:{payment:{type:Object,required:!0}},data(){let e=y[this.$store.getters.groupSettings.mincomeCurrency];return{config:{initialAmount:this.payment.amount},form:{checked:this.payment.checked,amount:e.displayWithoutCurrency(this.payment.amount)}}},watch:{"form.amount"(e){this.$emit("update",{index:this.payment.index,checked:!0,amount:e})},"form.checked"(e){this.$emit("update",{index:this.payment.index,checked:e})},"payment.checked"(e){this.form.checked=e}},computed:{...f(["groupSettings"]),currencies(){return y[this.groupSettings.mincomeCurrency]}},methods:{humanDate:S,reset(){this.form.amount=this.config.initialAmount}}},I=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("payment-row",{attrs:{payment:e.payment}},[t("template",{slot:"cellPrefix"},[t("label",{staticClass:"checkbox c-check",attrs:{"data-test":"check"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.checked,expression:"form.checked"}],staticClass:"input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.checked)?e._i(e.form.checked,null)>-1:e.form.checked},on:{change:function(r){var i=e.form.checked,l=r.target,a=!!l.checked;if(Array.isArray(i)){var c=null,o=e._i(i,c);l.checked?o<0&&e.$set(e.form,"checked",i.concat([c])):o>-1&&e.$set(e.form,"checked",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.form,"checked",a)}}}),t("span",[t("i18n",{staticClass:"sr-only"},[e._v("Mark as sent")])],1)])]),t("template",{slot:"cellActions"},[t("div",{staticClass:"cpr-date",class:e.payment.isLate?"pull is-danger":"has-text-1"},[e._v(e._s(e.humanDate(e.payment.date)))]),e.payment.amount!==e.config.initialAmount?t("i18n",{staticClass:"is-unstyled is-link-inherit link c-reset",attrs:{tag:"button",type:"button"},on:{click:e.reset}},[e._v("Reset")]):e._e()],1),t("template",{slot:"cellSuffix"},[t("label",{staticClass:"field"},[t("div",{staticClass:"inputgroup"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.amount,expression:"form.amount"}],staticClass:"input",attrs:{"data-test":"amount",inputmode:"decimal",pattern:"[0-9]*"},domProps:{value:e.form.amount},on:{input:function(r){r.target.composing||e.$set(e.form,"amount",r.target.value)}}}),t("div",{staticClass:"suffix hide-phone"},[e._v(e._s(e.currencies.symbolWithCode))]),t("div",{staticClass:"suffix hide-tablet"},[e._v(e._s(e.currencies.symbol))])])])])],2)},L=[],N=function(e){e&&e("data-v-6290a5d2_0",{source:".c-check[data-v-6290a5d2]{margin-right:.5rem}.c-reset[data-v-6290a5d2]{margin-left:1rem}@media screen and (max-width:768px){.inputgroup .input[data-v-6290a5d2]{padding-right:2rem}}",map:void 0,media:void 0})},$="data-v-6290a5d2",T=void 0,E=!1;function j(e,s,t,r,i,l,a,c,o,m){let n=(typeof t=="function"?t.options:t)||{};n.__file=`style>
`,n.render||(n.render=e.render,n.staticRenderFns=e.staticRenderFns,n._compiled=!0,i&&(n.functional=!0)),n._scopeId=r;{let u;if(s&&(u=a?function(d){s.call(this,m(d,this.$root.$options.shadowRoot))}:function(d){s.call(this,c(d))}),u!==void 0)if(n.functional){let d=n.render;n.render=function(h,p){return u.call(p),d(h,p)}}else{let d=n.beforeCreate;n.beforeCreate=d?[].concat(d,u):[u]}}return n}function v(){let e=v.styles||(v.styles={}),s=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(r,i){if(document.querySelector('style[data-vue-ssr-id~="'+r+'"]'))return;let l=s?i.media||"default":r,a=e[l]||(e[l]={ids:[],parts:[],element:void 0});if(!a.ids.includes(r)){let c=i.source,o=a.ids.length;if(a.ids.push(r),i.map&&(c+=`
/*# sourceURL=`+i.map.sources[0]+" */",c+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(i.map))))+" */"),s&&(a.element=a.element||document.querySelector("style[data-group="+l+"]")),!a.element){let m=document.head||document.getElementsByTagName("head")[0],n=a.element=document.createElement("style");n.type="text/css",i.media&&n.setAttribute("media",i.media),s&&(n.setAttribute("data-group",l),n.setAttribute("data-next-index","0")),m.appendChild(n)}if(s&&(o=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",o+1)),a.element.styleSheet)a.parts.push(c),a.element.styleSheet.cssText=a.parts.filter(Boolean).join(`
`);else{let m=document.createTextNode(c),n=a.element.childNodes;n[o]&&a.element.removeChild(n[o]),n.length?a.element.insertBefore(m,n[o]):a.element.appendChild(m)}}}}var U=j({render:I,staticRenderFns:L},N,w,$,E,T,!1,v,void 0,void 0),x=U;var P={name:"PaymentRowSendLightning",components:{PaymentRow:g,AvatarUser:_},props:{payment:{type:Object,required:!0}},data(){return{config:{initialAmount:this.payment.amount},form:{checked:this.payment.checked,amount:this.payment.amount}}},watch:{"form.amount"(e){this.$emit("update",{index:this.payment.index,checked:!0,amount:e})},"form.checked"(e){this.$emit("update",{index:this.payment.index,checked:e})},"payment.checked"(e){this.form.checked=e}},computed:{...f(["groupSettings","groupCurrency"])},methods:{reset(){this.form.amount=this.config.initialAmount}}},F=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("payment-row",{attrs:{payment:e.payment}},[t("template",{slot:"cellPrefix"},[t("label",{staticClass:"checkbox c-check",attrs:{"data-set":"check"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.checked,expression:"form.checked"}],staticClass:"input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.checked)?e._i(e.form.checked,null)>-1:e.form.checked},on:{change:function(r){var i=e.form.checked,l=r.target,a=!!l.checked;if(Array.isArray(i)){var c=null,o=e._i(i,c);l.checked?o<0&&e.$set(e.form,"checked",i.concat([c])):o>-1&&e.$set(e.form,"checked",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.form,"checked",a)}}}),t("span",[t("i18n",{staticClass:"sr-only"},[e._v("Mark as an item to pay")])],1)])]),t("template",{slot:"cellUser"},[t("div",{staticClass:"c-user-wrapper"},[t("div",{staticClass:"c-user-avatar-name"},[t("avatar-user",{staticClass:"c-avatar",attrs:{contractID:e.payment.toMemberID,size:"xs"}}),t("strong",{staticClass:"c-name"},[e._v(e._s(e.payment.displayName))])],1),t("i18n",{staticClass:"pill is-neutral hide-tablet",attrs:{tag:"div"}},[e._v("Lightning")])],1)]),t("template",{slot:"cellActions"},[t("i18n",{staticClass:"pill is-neutral hide-phone"},[e._v("Lightning")]),e.payment.amount!==e.config.initialAmount?t("i18n",{staticClass:"is-unstyled link is-link-inherit c-reset",attrs:{tag:"button",type:"button"},on:{click:e.reset}},[e._v("Reset")]):e._e()],1),t("template",{slot:"cellSuffix"},[t("label",{staticClass:"field"},[t("div",{staticClass:"inputgroup"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.amount,expression:"form.amount"}],staticClass:"input",attrs:{"data-test":"amount",inputmode:"decimal",pattern:"[0-9]*"},domProps:{value:e.form.amount},on:{input:function(r){r.target.composing||e.$set(e.form,"amount",r.target.value)}}}),t("div",{staticClass:"suffix hide-phone"},[e._v(e._s(e.groupCurrency.symbolWithCode))]),t("div",{staticClass:"suffix hide-tablet"},[e._v(e._s(e.groupCurrency.symbol))])])])])],2)},O=[],B=function(e){e&&e("data-v-13bd554a_0",{source:".c-user-avatar-name[data-v-13bd554a]{display:flex;align-items:center}.c-user-avatar-name .c-avatar[data-v-13bd554a]{margin-right:.5rem}@media screen and (max-width:768px){.c-user-avatar-name .c-avatar[data-v-13bd554a]{display:none}}.c-check[data-v-13bd554a]{margin-right:.5rem;margin-left:.5rem}@media screen and (min-width:1200px){.c-check[data-v-13bd554a]{margin-left:2.5rem}}.c-reset[data-v-13bd554a]{margin-left:1rem}@media screen and (max-width:768px){.inputgroup .input[data-v-13bd554a]{padding-right:2rem}}",map:void 0,media:void 0})},D="data-v-13bd554a",q=void 0,W=!1;function M(e,s,t,r,i,l,a,c,o,m){let n=(typeof t=="function"?t.options:t)||{};n.__file=`style>
`,n.render||(n.render=e.render,n.staticRenderFns=e.staticRenderFns,n._compiled=!0,i&&(n.functional=!0)),n._scopeId=r;{let u;if(s&&(u=a?function(d){s.call(this,m(d,this.$root.$options.shadowRoot))}:function(d){s.call(this,c(d))}),u!==void 0)if(n.functional){let d=n.render;n.render=function(h,p){return u.call(p),d(h,p)}}else{let d=n.beforeCreate;n.beforeCreate=d?[].concat(d,u):[u]}}return n}function b(){let e=b.styles||(b.styles={}),s=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(r,i){if(document.querySelector('style[data-vue-ssr-id~="'+r+'"]'))return;let l=s?i.media||"default":r,a=e[l]||(e[l]={ids:[],parts:[],element:void 0});if(!a.ids.includes(r)){let c=i.source,o=a.ids.length;if(a.ids.push(r),i.map&&(c+=`
/*# sourceURL=`+i.map.sources[0]+" */",c+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(i.map))))+" */"),s&&(a.element=a.element||document.querySelector("style[data-group="+l+"]")),!a.element){let m=document.head||document.getElementsByTagName("head")[0],n=a.element=document.createElement("style");n.type="text/css",i.media&&n.setAttribute("media",i.media),s&&(n.setAttribute("data-group",l),n.setAttribute("data-next-index","0")),m.appendChild(n)}if(s&&(o=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",o+1)),a.element.styleSheet)a.parts.push(c),a.element.styleSheet.cssText=a.parts.filter(Boolean).join(`
`);else{let m=document.createTextNode(c),n=a.element.childNodes;n[o]&&a.element.removeChild(n[o]),n.length?a.element.insertBefore(m,n[o]):a.element.appendChild(m)}}}}var V=M({render:F,staticRenderFns:O},B,P,D,W,q,!1,b,void 0,void 0),C=V;var X={name:"RecordPaymentsList",components:{AvatarUser:_,Tooltip:A,PaymentRowRecord:x,PaymentRowSendLightning:C},props:{paymentsList:{type:Array,required:!0},paymentType:{type:String,default:"manual",validator:e=>["manual","lightning"].includes(e)},addDonationFee:{type:Boolean,default:!1}},data(){return{config:{tableRowComponent:this.paymentType==="lightning"?C:x},tableChecked:!1}},computed:{...f(["currentGroupState","groupIncomeAdjustedDistribution","ourGroupProfile","groupSettings","groupCurrency","userDisplayNameFromID"]),isLightning(){return this.paymentType==="lightning"},tableClasses(){return{"is-lightning":this.isLightning,"table-in-card":!this.isLightning}},totalAmount(){let e=this.paymentsList.filter(s=>s.checked).reduce((s,t)=>s+t.amount,0);return this.groupCurrency.displayWithoutCurrency(e*(this.addDonationFee?1.01:1))}},watch:{tableChecked(e){for(let s of this.paymentsList)s.checked=e}}},z=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("table",{staticClass:"table c-payments is-editing",class:e.tableClasses,attrs:{"data-test":e.isLightning?"payRecordLightning":"payRecord"}},[t("thead",[t("tr",[t("th",{staticClass:"c-th-checkbox"},[t("label",{staticClass:"checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tableChecked,expression:"tableChecked"}],staticClass:"input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.tableChecked)?e._i(e.tableChecked,null)>-1:e.tableChecked},on:{change:function(r){var i=e.tableChecked,l=r.target,a=!!l.checked;if(Array.isArray(i)){var c=null,o=e._i(i,c);l.checked?o<0&&(e.tableChecked=i.concat([c])):o>-1&&(e.tableChecked=i.slice(0,o).concat(i.slice(o+1)))}else e.tableChecked=a}}}),t("span",[t("i18n",{staticClass:"sr-only"},[e._v("Mark sent to all")])],1)])]),t("i18n",{attrs:{tag:"th"}},[e._v("Sent to")]),t("i18n",{staticClass:"sr-only",attrs:{tag:"th"}},[e._v("Due")]),t("th",{staticClass:"c-th-amount"},[e._v(e._s(e.isLightning?e.L("Amount"):e.L("Amount sent")))])],1)]),t("tbody",[e._l(e.paymentsList,function(r,i){return t(e.config.tableRowComponent,{key:i,tag:"component",attrs:{payment:r},on:{update:function(l){return e.$emit("update",l)}}})}),e.isLightning?t("tr",[t("td",{attrs:{colspan:"4"}},[t("div",{staticClass:"c-total-amount-wrapper"},[t("i18n",{staticClass:"c-total-label",attrs:{tag:"label"}},[e._v("Total")]),t("div",{staticClass:"inputgroup disabled"},[t("input",{staticClass:"input c-total-amount",domProps:{value:e.totalAmount}}),t("div",{staticClass:"suffix hide-phone"},[e._v(e._s(e.groupCurrency.symbolWithCode))]),t("div",{staticClass:"suffix hide-tablet"},[e._v(e._s(e.groupCurrency.symbol))])])],1)])]):e._e()],2)])},G=[],J=function(e){e&&e("data-v-74774b52_0",{source:".c-payments.is-editing[data-v-74774b52]{margin-top:1rem}.c-payments.is-editing td[data-v-74774b52]:first-child,.c-payments.is-editing th[data-v-74774b52]:first-child{width:10%}@media screen and (max-width:768px){.c-payments.is-editing td[data-v-74774b52]:first-child,.c-payments.is-editing th[data-v-74774b52]:first-child{width:3rem}}.c-payments.is-editing td[data-v-74774b52]:nth-child(2),.c-payments.is-editing th[data-v-74774b52]:nth-child(2){max-width:20vh}.c-payments.is-editing td[data-v-74774b52]:last-child,.c-payments.is-editing th[data-v-74774b52]:last-child{width:35%;min-width:9.375rem;display:table-cell}.c-payments.is-editing.is-lightning th.c-th-checkbox[data-v-74774b52]{padding-left:.5rem}@media screen and (min-width:1200px){.c-payments.is-editing.is-lightning th.c-th-checkbox[data-v-74774b52]{padding-left:2.5rem}}.c-total-amount-wrapper[data-v-74774b52]{display:flex;justify-content:flex-end;align-items:center;width:100%;margin-top:1rem;margin-bottom:2rem}.c-total-amount-wrapper .c-total-label[data-v-74774b52]{font-size:.875rem;font-weight:600;margin-right:1rem}.c-total-amount-wrapper .inputgroup[data-v-74774b52]{width:35%}[data-v-74774b52] .cpr-actions{margin-right:1rem;justify-content:flex-end}.c-th-checkbox[data-v-74774b52]{line-height:1.5rem}.c-th-checkbox .checkbox[data-v-74774b52]{margin-right:.5rem}",map:void 0,media:void 0})},H="data-v-74774b52",K=void 0,Q=!1;function Y(e,s,t,r,i,l,a,c,o,m){let n=(typeof t=="function"?t.options:t)||{};n.__file=`style>
`,n.render||(n.render=e.render,n.staticRenderFns=e.staticRenderFns,n._compiled=!0,i&&(n.functional=!0)),n._scopeId=r;{let u;if(s&&(u=a?function(d){s.call(this,m(d,this.$root.$options.shadowRoot))}:function(d){s.call(this,c(d))}),u!==void 0)if(n.functional){let d=n.render;n.render=function(h,p){return u.call(p),d(h,p)}}else{let d=n.beforeCreate;n.beforeCreate=d?[].concat(d,u):[u]}}return n}function k(){let e=k.styles||(k.styles={}),s=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(r,i){if(document.querySelector('style[data-vue-ssr-id~="'+r+'"]'))return;let l=s?i.media||"default":r,a=e[l]||(e[l]={ids:[],parts:[],element:void 0});if(!a.ids.includes(r)){let c=i.source,o=a.ids.length;if(a.ids.push(r),i.map&&(c+=`
/*# sourceURL=`+i.map.sources[0]+" */",c+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(i.map))))+" */"),s&&(a.element=a.element||document.querySelector("style[data-group="+l+"]")),!a.element){let m=document.head||document.getElementsByTagName("head")[0],n=a.element=document.createElement("style");n.type="text/css",i.media&&n.setAttribute("media",i.media),s&&(n.setAttribute("data-group",l),n.setAttribute("data-next-index","0")),m.appendChild(n)}if(s&&(o=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",o+1)),a.element.styleSheet)a.parts.push(c),a.element.styleSheet.cssText=a.parts.filter(Boolean).join(`
`);else{let m=document.createTextNode(c),n=a.element.childNodes;n[o]&&a.element.removeChild(n[o]),n.length?a.element.insertBefore(m,n[o]):a.element.appendChild(m)}}}}var Z=Y({render:z,staticRenderFns:G},J,X,H,Q,K,!1,k,void 0,void 0),fe=Z;export{fe as a};
//# sourceMappingURL=chunk-4ELQIDER-cached.js.map
