{
  "version": 3,
  "sources": ["../../../frontend/views/containers/chatroom/image-viewer/PreviewImageArea.vue", "../../../frontend/views/containers/chatroom/image-viewer/ImageViewerModal.vue"],
  "sourcesContent": ["/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport SliderContinuous from '../../../../../frontend/views/components/SliderContinuous.vue'\nimport pointerEventsMixinFactory from '../../../../../frontend/views/utils/pointerEventsMixins.js'\nimport { linearScale, debounce } from 'turtledash'\n\nconst linearScaler = {\n  deltaToZoom: linearScale([0, 5], [0, 12]), // maps deltaY value of 'scroll' event to zoom value\n  pinchToZoom: linearScale([0, 20], [0, 15]) // maps pinch gesture factor value to zoom value\n}\n\nconst getSign = v => v < 0 ? -1 : 1\n\nconst __vue_script__ = {\n  name: 'PreviewImageArea',\n  mixins: [pointerEventsMixinFactory({ pointerMoveOnWindow: true })],\n  components: {\n    SliderContinuous\n  },\n  props: {\n    imgSrc: {\n      type: String,\n      required: true\n    },\n    name: String,\n    canDelete: {\n      type: Boolean,\n      default: false\n    },\n    deleting: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data () {\n    return {\n      ephemeral: {\n        isLoaded: false,\n        imgInitDone: false,\n        previewImgAttrs: {\n          width: undefined,\n          height: undefined,\n          topX: undefined,\n          topY: undefined\n        },\n        imgTranslation: { x: 0, y: 0 },\n        currentZoom: 100,\n        previousZoom: null,\n        pointedZoomAction: {\n          percentX: null,\n          percentY: null,\n          zoomCenter: null\n        },\n        mousedownCapture: null,\n        showSliderOutput: false\n      },\n      config: {\n        imgData: {\n          naturalWidth: null,\n          naturalHeight: null,\n          aspectRatio: 1 // intrinsic ratio value of width / height\n        },\n        zoomMin: 0,\n        zoomMax: 400, // for now.\n        sliderUnit: '%',\n        resizeHandlerDebounced: debounce(this.resizeHandler, 100)\n      }\n    }\n  },\n  computed: {\n    previewImgStyles () {\n      const attrs = this.config.imgData\n      const tx = this.ephemeral.imgTranslation.x || 0\n      const ty = this.ephemeral.imgTranslation.y || 0\n      const scaleVal = this.ephemeral.currentZoom / 100\n\n      return {\n        height: attrs.naturalHeight ? `${attrs.naturalHeight}px` : undefined,\n        transform: `translate3d(${tx}px, ${ty}px, 0px) scale(${scaleVal}, ${scaleVal})`\n      }\n    },\n    isImageMovable () {\n      return this.config.zoomMin < this.ephemeral.currentZoom // currentZoom is higher than the minimum value.\n    },\n    movableDistances () {\n      // calculates how much vertical/horizontal spaces are available to move image around in.\n      if (!this.isImageMovable) {\n        return { x: 0, y: 0 }\n      } else {\n        const percentDiff = (this.ephemeral.currentZoom - this.config.zoomMin) / 100\n        return {\n          x: this.config.imgData.naturalWidth * percentDiff / 2,\n          y: this.config.imgData.naturalHeight * percentDiff / 2\n        }\n      }\n    }\n  },\n  methods: {\n    onImgLoad () {\n      const imgEl = this.$refs.previewImg\n      const naturalWidth = imgEl.naturalWidth\n      const naturalHeight = imgEl.naturalHeight\n      const aspectRatio = naturalWidth / naturalHeight\n\n      this.ephemeral.isLoaded = true\n      this.config.imgData.naturalWidth = naturalWidth\n      this.config.imgData.naturalHeight = naturalHeight\n      this.config.imgData.aspectRatio = aspectRatio\n      this.config.imgData.isWiderThanTall = aspectRatio >= 1\n\n      this.initViewerSettings()\n      this.calcPreviewImageDimension()\n\n      this.$nextTick(() => {\n        this.ephemeral.imgInitDone = true\n      })\n    },\n    initViewerSettings () {\n      const { naturalWidth, naturalHeight, aspectRatio } = this.config.imgData\n      let {\n        width: viewAreaWidth,\n        height: viewAreaHeight\n      } = this.$el.getBoundingClientRect()\n\n      viewAreaHeight *= 0.8 // for initial render, use up to 80% of the available height. (close button should be visible)\n\n      let zoomMin = 100 // defaults to 100%\n      let minWidth = naturalWidth\n      let minHeight = naturalHeight\n\n      // Calculate 'minimum' zoom value. the idea is that,\n      // - If the intrinsic size of the image is larger than current view-area: the percentage value that makes the image just fit the available space.\n      // - If the intrinsic size of the image is smaller than current view-area: 100%\n\n      if (viewAreaWidth < naturalWidth) {\n        const wFraction = viewAreaWidth / naturalWidth\n        minWidth = wFraction * naturalWidth\n        minHeight = minWidth / aspectRatio\n      }\n\n      if (viewAreaHeight < minHeight) {\n        minHeight = viewAreaHeight\n        minWidth = minHeight * aspectRatio\n      }\n\n      zoomMin = Math.ceil(minWidth / naturalWidth * 100)\n\n      this.config.zoomMin = zoomMin\n      this.ephemeral.currentZoom = zoomMin\n      this.ephemeral.imgTranslation = { x: 0, y: 0 }\n    },\n    calcPreviewImageDimension () {\n      // update the preview image width/height values based on the current zoom value\n      const { naturalWidth, aspectRatio } = this.config.imgData\n      const fraction = this.ephemeral.currentZoom / 100\n      const center = this.getViewAreaCenter()\n      const { x: transX, y: transY } = this.ephemeral.imgTranslation\n      const widthCalc = fraction * naturalWidth\n      const heightCalc = widthCalc / aspectRatio\n\n      this.ephemeral.previewImgAttrs.width = widthCalc\n      this.ephemeral.previewImgAttrs.height = heightCalc\n      this.ephemeral.previewImgAttrs.topX = center.x - widthCalc / 2 + transX\n      this.ephemeral.previewImgAttrs.topY = center.y - heightCalc / 2 + transY\n    },\n    getViewAreaCenter () {\n      const {\n        width: viewAreaWidth,\n        height: viewAreaHeight,\n        top: viewAreaTop,\n        left: viewAreaLeft\n      } = this.$el.getBoundingClientRect()\n\n      return {\n        x: viewAreaLeft + viewAreaWidth / 2,\n        y: viewAreaTop + viewAreaHeight / 2\n      }\n    },\n    isPointInsidePreviewImage ({ x, y }) {\n      // check if the given point is within the currently-scaled preview-image.\n      const center = this.getViewAreaCenter()\n      const { width, height } = this.ephemeral.previewImgAttrs\n      const { x: transX, y: transY } = this.ephemeral.imgTranslation\n      const half = { w: width / 2, h: height / 2 }\n      const boundary = {\n        top: transY + center.y - half.h,\n        left: transX + center.x - half.w,\n        bottom: transY + center.y + half.h,\n        right: transX + center.x + half.w\n      }\n\n      return x > boundary.left &&\n        x < boundary.right &&\n        y > boundary.top &&\n        y < boundary.bottom\n    },\n    onSliderUpdate (e) {\n      const center = this.getViewAreaCenter()\n      this.handleZoomUpdate(Number(e.target.value), center)\n      this.calcPreviewImageDimension()\n      this.clearPointedZoomActionState()\n    },\n    handleZoomUpdate (val, zoomPoint = null) {\n      const twoPointsAreSame = (p1, p2) => {\n        return p1 && p2 && p1?.x === p2.x && p1?.y === p2?.y\n      }\n      this.ephemeral.previousZoom = this.ephemeral.currentZoom\n      this.ephemeral.currentZoom = val\n\n      if (zoomPoint) {\n        let centerUpdated = false\n\n        if (!twoPointsAreSame(zoomPoint, this.ephemeral.pointedZoomAction.zoomCenter)) {\n          this.ephemeral.pointedZoomAction.zoomCenter = zoomPoint\n          centerUpdated = true\n        }\n\n        const { width: prevWidth, height: prevHeight, topX: prevTopX, topY: prevTopY } = this.ephemeral.previewImgAttrs\n        const center = this.ephemeral.pointedZoomAction.zoomCenter\n        let percentX = this.ephemeral.pointedZoomAction.percentX\n        let percentY = this.ephemeral.pointedZoomAction.percentY\n\n        if (percentX === null || centerUpdated) {\n          percentX = (center.x - prevTopX) / prevWidth\n          percentX = parseFloat(percentX.toFixed(2))\n\n          this.ephemeral.pointedZoomAction.percentX = percentX // need to record it\n        }\n\n        if (percentY === null || centerUpdated) {\n          percentY = (center.y - prevTopY) / prevHeight\n          percentY = parseFloat(percentY.toFixed(2))\n\n          this.ephemeral.pointedZoomAction.percentY = percentY // need to record it\n        }\n\n        this.calcPreviewImageDimension()\n        const { width: afterWidth, height: afterHeight, topX: afterTopX, topY: afterTopY } = this.ephemeral.previewImgAttrs\n        const toX = Math.ceil(afterTopX + afterWidth * percentX)\n        const toY = Math.ceil(afterTopY + afterHeight * percentY)\n        this.translate({ x: (toX - center.x) * -1, y: (toY - center.y) * -1 })\n      } else {\n        this.calcPreviewImageDimension()\n\n        const { naturalWidth, naturalHeight } = this.config.imgData\n        const zoomDiff = (this.ephemeral.currentZoom - this.ephemeral.previousZoom) / 100\n        let moveX = 0 // x-value to auto-translate\n        let moveY = 0 // y-value to auto-translate\n\n        if (this.ephemeral.imgTranslation.x !== 0) {\n          const wUpdate = zoomDiff * naturalWidth\n\n          moveX = wUpdate * -0.5\n        }\n\n        if (this.ephemeral.imgTranslation.y !== 0) {\n          const hUpdate = zoomDiff * naturalHeight\n\n          moveY = hUpdate * -0.5\n        }\n\n        this.translate({ x: moveX, y: moveY })\n      }\n\n      if (!this.ephemeral.showSliderOutput) {\n        this.ephemeral.showSliderOutput = true\n      }\n\n      clearTimeout(this.sliderOutputTimeoutId)\n      this.sliderOutputTimeoutId = setTimeout(() => {\n        this.ephemeral.showSliderOutput = false\n      }, 1500)\n    },\n    translate ({ x = 0, y = 0 }, override = false) {\n      if (!this.isImageMovable) {\n        this.ephemeral.imgTranslation = { x: 0, y: 0 }\n      } else if (override) {\n        this.ephemeral.imgTranslation = { x, y }\n      } else {\n        const { x: movableX, y: movableY } = this.movableDistances\n        let newX = this.ephemeral.imgTranslation.x + x\n        let newY = this.ephemeral.imgTranslation.y + y\n        const signX = getSign(newX)\n        const signY = getSign(newY)\n\n        if (Math.abs(newX) > movableX) {\n          newX = signX * movableX\n        }\n        if (Math.abs(newY) > movableY) {\n          newY = signY * movableY\n        }\n\n        this.ephemeral.imgTranslation.x = newX\n        this.ephemeral.imgTranslation.y = newY\n\n        this.calcPreviewImageDimension()\n      }\n    },\n    resizeHandler () {\n      this.initViewerSettings()\n      this.calcPreviewImageDimension()\n      this.clearPointedZoomActionState()\n    },\n    clipZoomValue (newVal) {\n      return newVal > this.config.zoomMax\n        ? this.config.zoomMax\n        : newVal < this.config.zoomMin\n          ? this.config.zoomMin\n          : newVal\n    },\n    pinchInHandler ({ changeFactor, center }) {\n      if (!this.isPointInsidePreviewImage(center)) { return }\n\n      // should zoom-out (shrink)\n      const currZoom = this.ephemeral.currentZoom\n      const updateVal = Math.ceil(\n        linearScaler.pinchToZoom(changeFactor)\n      )\n      const newVal = Math.ceil(currZoom - updateVal)\n      this.handleZoomUpdate(this.clipZoomValue(newVal), center)\n    },\n    pinchOutHandler ({ changeFactor, center }) {\n      if (!this.isPointInsidePreviewImage(center)) { return }\n\n      // should zoom-in (magnify)\n      const currZoom = this.ephemeral.currentZoom\n      const updateVal = Math.ceil(\n        linearScaler.pinchToZoom(changeFactor)\n      )\n\n      const newVal = Math.ceil(currZoom + updateVal)\n      this.handleZoomUpdate(this.clipZoomValue(newVal), center)\n    },\n    wheelEventHandler (e) {\n      // reference: https://kenneth.io/post/detecting-multi-touch-trackpad-gestures-in-javascript\n      const point = { x: e.clientX, y: e.clientY }\n\n      if (!e.ctrlKey || !this.isPointInsidePreviewImage(point)) { return }\n\n      const currZoom = this.ephemeral.currentZoom\n      const updateVal = Math.ceil(\n        linearScaler.deltaToZoom(Math.abs(e.deltaY))\n      )\n      let newVal\n\n      if (e.deltaY < 0) {\n        // 'zoom-in' action using track-pad\n        newVal = currZoom + updateVal\n      } else {\n        // 'zoom-out' action using track-pad\n        newVal = currZoom - updateVal\n      }\n\n      if (newVal !== undefined) {\n        this.handleZoomUpdate(this.clipZoomValue(newVal), point)\n      }\n    },\n    clearPointedZoomActionState () {\n      this.ephemeral.pointedZoomAction.percentX = null\n      this.ephemeral.pointedZoomAction.percentY = null\n      this.ephemeral.pointedZoomAction.zoomCenter = null\n    },\n    postPointerCancel () {\n      this.clearPointedZoomActionState()\n    },\n    mouseDownHandler (e) {\n      const point = { x: e.clientX, y: e.clientY }\n      this.ephemeral.mousedownCapture = this.matchMedia.isTouch || !this.isPointInsidePreviewImage(point)\n        ? null\n        : point\n    },\n    mouseUpHandler (e) {\n      if (this.matchMedia.isTouch || !this.ephemeral.mousedownCapture) { return }\n\n      const point = { x: e.clientX, y: e.clientY }\n      const mdownPoint = this.ephemeral.mousedownCapture\n      const distance = (() => {\n        const dx = Math.abs(point.x - mdownPoint.x)\n        const dy = Math.abs(point.y - mdownPoint.y)\n        return Math.sqrt(dx * dx + dy * dy)\n      })()\n\n      if (distance < 1.5) {\n        const shouldZoomOut = this.isImageMovable\n        const center = this.getViewAreaCenter()\n        if (shouldZoomOut) {\n          this.handleZoomUpdate(this.config.zoomMin, center)\n        } else {\n          const zoomInVal = this.config.zoomMin < 70\n            ? 100\n            : this.config.zoomMin < 100\n              ? 150\n              : 200\n          this.handleZoomUpdate(zoomInVal, mdownPoint)\n        }\n\n        this.calcPreviewImageDimension()\n        this.clearPointedZoomActionState()\n        this.ephemeral.mousedownCapture = null\n      }\n    }\n  },\n  mounted () {\n    window.addEventListener('resize', this.config.resizeHandlerDebounced)\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.config.resizeHandlerDebounced)\n  }\n}\n\n/* template */\nvar __vue_render__ = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-image-view-area\",on:{\"wheel\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.wheelEventHandler($event)},\"mousedown\":_vm.mouseDownHandler,\"mouseup\":_vm.mouseUpHandler}},[_c('img',{ref:\"previewImg\",staticClass:\"c-preview-image\",class:{ \"is-movable\": _vm.isImageMovable, \"is-hidden\": !_vm.ephemeral.imgInitDone },style:(_vm.previewImgStyles),attrs:{\"src\":_vm.imgSrc,\"width\":_vm.config.imgData.naturalWidth,\"height\":_vm.config.imgData.naturalHeight,\"alt\":_vm.L(\"Image preview\"),\"draggable\":\"false\"},on:{\"load\":_vm.onImgLoad}}),(_vm.ephemeral.isLoaded)?_c('div',{staticClass:\"c-cta-container\",on:{\"pointerdown\":function($event){$event.stopPropagation();},\"pointermove\":function($event){$event.stopPropagation();},\"pointerup\":function($event){$event.stopPropagation();},\"mousedown\":function($event){$event.stopPropagation();},\"mouseup\":function($event){$event.stopPropagation();}}},[(_vm.ephemeral.currentZoom !== null)?_c('slider-continuous',{staticClass:\"c-zoom-slider\",class:{ \"show-slider-output\": _vm.ephemeral.showSliderOutput },attrs:{\"uid\":\"zoomslider\",\"value\":_vm.ephemeral.currentZoom,\"min\":_vm.config.zoomMin,\"max\":_vm.config.zoomMax,\"unit\":_vm.config.sliderUnit},on:{\"input\":_vm.onSliderUpdate}}):_vm._e(),_c('div',{staticClass:\"c-btns-container\"},[_c('button',{staticClass:\"is-icon-small c-cta-btn\",attrs:{\"aria-label\":_vm.L(\"Download\")},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit(\"download\")}}},[_c('i',{staticClass:\"icon-download\"})]),(_vm.canDelete)?_c('button',{staticClass:\"is-icon-small c-cta-btn\",class:{ \"is-loader\": _vm.deleting },attrs:{\"aria-label\":_vm.L(\"Delete\"),\"disabled\":_vm.deleting,\"data-loading\":_vm.deleting},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit(\"delete-attachment\")}}},[(!_vm.deleting)?_c('i',{staticClass:\"icon-trash-alt\"}):_vm._e()]):_vm._e()])],1):_vm._e(),(!_vm.ephemeral.isLoaded)?_c('div',{staticClass:\"c-loader-animation\"}):_vm._e()])}\nvar __vue_staticRenderFns__ = []\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-fbb9e8da_0\", { source: \".c-image-view-area[data-v-fbb9e8da]{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;touch-action:none;flex-shrink:0;overflow:hidden}img.c-preview-image[data-v-fbb9e8da]{max-width:unset;user-select:none;will-change:transform;cursor:zoom-in}img.c-preview-image.is-movable[data-v-fbb9e8da]{cursor:zoom-out}img.c-preview-image.is-hidden[data-v-fbb9e8da]{opacity:0}.c-cta-container[data-v-fbb9e8da]{position:absolute;left:1rem;bottom:1rem;z-index:5;padding:.25rem .75rem .75rem;display:flex;align-items:center;justify-content:flex-start;column-gap:.75rem}.c-cta-container[data-v-fbb9e8da]::after{content:\\\"\\\";position:absolute;width:100%;height:100%;display:block;top:0;left:0;z-index:0;background-color:var(--image-viewer-slider-bg-color);border-radius:.5rem;opacity:.675}@media (forced-colors:active){.c-cta-container[data-v-fbb9e8da]::after{border:1px solid buttonborder;opacity:1}}.c-btns-container[data-v-fbb9e8da]{display:flex;align-items:center;transform:translateY(.25rem);column-gap:.5rem;z-index:1}.c-btns-container button.c-cta-btn[data-v-fbb9e8da]{color:var(--image-viewer-cta-color);background-color:var(--image-viewer-slider-bg-color);border-radius:.25rem;border:1px solid var(--image-viewer-cta-color)}@media screen and (max-width:768px){.c-btns-container button.c-cta-btn[data-v-fbb9e8da]{font-size:.75rem;width:1.5rem;height:1.5rem}}.c-btns-container button.c-cta-btn[data-v-fbb9e8da]:focus,.c-btns-container button.c-cta-btn[data-v-fbb9e8da]:hover{color:var(--image-viewer-cta-color_active);border-color:var(--image-viewer-cta-color_active)}.c-btns-container button.c-cta-btn.is-loader[data-v-fbb9e8da]::after{width:.75rem;height:.75rem;color:var(--image-viewer-cta-color)}.c-zoom-slider[data-v-fbb9e8da]{width:9.25rem;z-index:1}.c-zoom-slider[data-v-fbb9e8da]  .edge{display:none}.c-zoom-slider[data-v-fbb9e8da]  .sOutput{display:none;padding:.25rem;border-radius:.25rem;font-size:.85em;top:-2rem}.c-zoom-slider[data-v-fbb9e8da]  .marks{margin-top:0}.c-zoom-slider.show-slider-output[data-v-fbb9e8da]  .sOutput{display:inline-block}.c-zoom-slider[data-v-fbb9e8da]  input.sInput{forced-color-adjust:none}@media (forced-colors:active){.c-zoom-slider[data-v-fbb9e8da]  input.sInput{background:0 0;border:1px solid buttonborder;color:buttontext}}.c-loader-animation[data-v-fbb9e8da]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;width:1.5rem;height:1.5rem;border:2px solid;border-top-color:transparent;border-radius:50%;color:var(--image-viewer-text-color);animation:loader-ani-data-v-fbb9e8da 1.75s infinite linear;z-index:2}@media screen and (min-width:1200px){.c-loader-animation[data-v-fbb9e8da]{width:1.75rem;height:1.75rem}}@keyframes loader-ani-data-v-fbb9e8da{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}\", map: undefined, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-fbb9e8da\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (true && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\nimport sbp from '@sbp/sbp'\nimport trapFocus from '../../../../../frontend/utils/trapFocus.js'\nimport { CLOSE_MODAL, DELETE_ATTACHMENT, DELETE_ATTACHMENT_FEEDBACK } from '../../../../../frontend/utils/events.js'\nimport AvatarUser from '../../../../../frontend/views/components/AvatarUser.vue'\nimport PreviewImageArea from './PreviewImageArea.vue'\nimport { formatBytesDecimal } from '../../../../../frontend/views/utils/filters.js'\n\nconst __vue_script__ = {\n  // NOTE: gave this component a generic name in case this is used outside the chatroom area. (eg. instead of 'ChatImageViewer' etc.)\n  name: 'ImageViewerModal',\n  mixins: [trapFocus],\n  components: {\n    AvatarUser,\n    PreviewImageArea\n  },\n  props: {\n    images: Array,\n    initialIndex: {\n      type: Number,\n      required: false,\n      default: 0\n    },\n    canDelete: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      touchMatchMedia: null,\n      ephemeral: {\n        imagesToShow: [],\n        deletingImages: [],\n        currentIndex: 0,\n        isTouch: false\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'globalProfile',\n      'usernameFromID'\n    ]),\n    blurryBgStyles () {\n      return {\n        backgroundImage: `url(${this.currentImage.imgUrl})`\n      }\n    },\n    displayName () {\n      const contractID = this.currentImage.ownerID\n      return this.globalProfile(contractID)?.displayName ||\n        this.usernameFromID(contractID)\n    },\n    hasMultipleImages () {\n      return Array.isArray(this.ephemeral.imagesToShow) && this.ephemeral.imagesToShow.length > 1\n    },\n    showPrevButton () {\n      const len = this.ephemeral.imagesToShow.length\n      return len > 1 && this.ephemeral.currentIndex > 0\n    },\n    showNextButton () {\n      const len = this.ephemeral.imagesToShow.length\n      return len > 1 && this.ephemeral.currentIndex < len - 1\n    },\n    currentImage () {\n      return this.ephemeral.imagesToShow[this.ephemeral.currentIndex]\n    },\n    deletingCurrentImage () {\n      return this.ephemeral.deletingImages.includes(this.currentImage.manifestCid)\n    }\n  },\n  created () {\n    if (!Array.isArray(this.images)) {\n      this.$nextTick(() => this.close())\n    } else {\n      this.ephemeral.currentIndex = this.initialIndex\n      this.ephemeral.imagesToShow = this.images\n    }\n\n    this.touchMatchMedia = window.matchMedia('(hover: none) and (pointer: coarse)')\n    this.ephemeral.isTouch = this.touchMatchMedia.matches\n    this.touchMatchMedia.onchange = (e) => {\n      this.ephemeral.isTouch = e.matches\n    }\n  },\n  mounted () {\n    document.addEventListener('keydown', this.keydownHandler)\n    sbp('okTurtles.events/on', DELETE_ATTACHMENT_FEEDBACK, this.onDeleteAttachmentFeedback)\n  },\n  beforeDestroy () {\n    document.removeEventListener('keydown', this.keydownHandler)\n    this.touchMatchMedia.onchange = null\n    sbp('okTurtles.events/off', DELETE_ATTACHMENT_FEEDBACK, this.onDeleteAttachmentFeedback)\n  },\n  methods: {\n    displayFilesize (size) {\n      return `(${formatBytesDecimal(size)})`\n    },\n    close () {\n      sbp('okTurtles.events/emit', CLOSE_MODAL, 'ImageViewerModal')\n    },\n    selectNextImage () {\n      if (this.ephemeral.currentIndex < this.ephemeral.imagesToShow.length - 1) {\n        this.ephemeral.currentIndex += 1\n      }\n    },\n    selectPrevImage () {\n      if (this.ephemeral.currentIndex > 0) {\n        this.ephemeral.currentIndex -= 1\n      }\n    },\n    keydownHandler (e) {\n      this.trapFocus(e)\n\n      switch (e.key) {\n        case 'ArrowLeft':\n          this.selectPrevImage()\n          break\n        case 'ArrowRight':\n          this.selectNextImage()\n      }\n    },\n    downloadImage () {\n      const aTag = this.$refs.downloadHelper\n\n      aTag.setAttribute('href', this.currentImage.imgUrl)\n      aTag.setAttribute('download', this.currentImage.name)\n      aTag.click()\n    },\n    deleteAttachment () {\n      if (this.deletingCurrentImage) {\n        return\n      }\n\n      sbp('okTurtles.events/emit', DELETE_ATTACHMENT, { url: this.currentImage.imgUrl })\n      this.ephemeral.deletingImages.push(this.currentImage.manifestCid)\n    },\n    onDeleteAttachmentFeedback ({ action, manifestCid }) {\n      this.ephemeral.deletingImages = this.ephemeral.deletingImages.filter(cid => cid !== manifestCid)\n\n      if (action === 'complete') {\n        this.ephemeral.imagesToShow = this.ephemeral.imagesToShow.filter(image => image.manifestCid !== manifestCid)\n\n        if (this.ephemeral.imagesToShow.length === 0) {\n          this.close()\n        } else if (this.ephemeral.currentIndex >= this.ephemeral.imagesToShow.length) {\n          this.ephemeral.currentIndex = this.ephemeral.imagesToShow.length - 1\n        }\n      }\n    }\n  }\n}\n\n/* template */\nvar __vue_render__ = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-image-viewer-modal\",on:{\"wheel\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticClass:\"c-image-viewer-content\"},[_c('div',{staticClass:\"c-image-blurry-background\",style:(_vm.blurryBgStyles)}),(_vm.currentImage)?_c('preview-image-area',{key:_vm.currentImage.id,attrs:{\"img-src\":_vm.currentImage.imgUrl,\"name\":_vm.currentImage.name,\"can-delete\":_vm.canDelete,\"deleting\":_vm.deletingCurrentImage},on:{\"download\":_vm.downloadImage,\"delete-attachment\":_vm.deleteAttachment}}):_vm._e(),_c('header',{staticClass:\"c-modal-header\"},[(_vm.currentImage.ownerID)?_c('avatar-user',{staticClass:\"c-avatar\",attrs:{\"contractID\":_vm.currentImage.ownerID,\"size\":\"sm\"}}):_vm._e(),_c('div',{staticClass:\"c-img-data\"},[_c('div',{staticClass:\"c-name has-ellipsis\"},[_vm._v(_vm._s(_vm.displayName))]),_c('div',{staticClass:\"c-filename-and-size\"},[_c('div',{staticClass:\"c-filename has-ellipsis\"},[_vm._v(_vm._s(_vm.currentImage.name))]),_c('div',{staticClass:\"c-file-size\"},[_vm._v(_vm._s(_vm.displayFilesize(_vm.currentImage.size)))])])]),_c('button',{staticClass:\"is-icon-small c-close-btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.close($event)}}},[_c('i',{staticClass:\"icon-times\"})])],1),(_vm.showPrevButton)?_c('button',{staticClass:\"is-icon c-image-nav-btn is-prev\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.selectPrevImage}},[_c('i',{staticClass:\"icon-chevron-left\"})]):_vm._e(),(_vm.showNextButton)?_c('button',{staticClass:\"is-icon c-image-nav-btn is-next\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.selectNextImage}},[_c('i',{staticClass:\"icon-chevron-right\"})]):_vm._e()],1),_c('a',{ref:\"downloadHelper\",staticClass:\"c-invisible-link\",on:{\"click\":function($event){$event.stopPropagation();}}})])}\nvar __vue_staticRenderFns__ = []\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-77b3897c_0\", { source: \".c-image-viewer-modal[data-v-77b3897c]{position:fixed;z-index:40;top:0;left:0;bottom:0;right:0;overflow:auto;background-color:rgba(10,10,10,.86);--image-viewer-bg-color:#1e2021;--image-viewer-text-color:#e8e8e8;--image-viewer-btn-color:#2e3032;--image-viewer-slider-bg-color:#2e3032;--image-viewer-btn-color_active:#717879;--image-viewer-btn-text-color_active:#1e2021;--image-viewer-cta-bg-color:#1e2021;--image-viewer-cta-text-color:#e8e8e8;--image-viewer-cta-border-color:#717879;--image-viewer-cta-box-shadow-color:#383c3e}.is-dark-theme .c-image-viewer-modal[data-v-77b3897c]{--image-viewer-bg-color:#717879;--image-viewer-text-color:#e8e8e8;--image-viewer-btn-color:#1e2021;--image-viewer-slider-bg-color:#1e2021;--image-viewer-btn-color_active:#2e3032;--image-viewer-btn-text-color_active:#e8e8e8;--image-viewer-cta-bg-color:#1e2021;--image-viewer-cta-text-color:#e8e8e8;--image-viewer-cta-border-color:#717879;--image-viewer-cta-box-shadow-color:#383c3e}.c-image-viewer-content[data-v-77b3897c]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:var(--image-viewer-bg-color);width:100%;height:100%;overflow:hidden;display:flex;flex-direction:row;align-items:stretch}@media screen and (min-width:769px){.c-image-viewer-content[data-v-77b3897c]{border-radius:.375rem;width:92.5vw;height:90vh}}.c-modal-header[data-v-77b3897c]{position:absolute;width:100%;top:0;left:0;height:auto;z-index:3;padding:1rem;padding-right:3rem;display:flex;flex-direction:row;align-items:center;column-gap:.75rem}.c-modal-header>*[data-v-77b3897c]{z-index:1}.c-modal-header[data-v-77b3897c]::after{content:\\\"\\\";position:absolute;top:0;left:0;right:0;height:135%;background:linear-gradient(rgba(30,32,33,.7333333333),rgba(30,32,33,0));z-index:0}.c-modal-header .c-avatar[data-v-77b3897c]{flex-shrink:0}.c-modal-header .c-img-data[data-v-77b3897c]{display:flex;flex-direction:column;flex-grow:1;line-height:1.125;color:var(--image-viewer-text-color)}.c-modal-header .c-name[data-v-77b3897c]{font-size:.875rem;font-weight:700}.c-modal-header .c-filename-and-size[data-v-77b3897c]{display:flex;flex-direction:row;width:100%;column-gap:.5rem}.c-modal-header .c-file-size[data-v-77b3897c]{flex-shrink:0}.c-modal-header .c-file-size[data-v-77b3897c],.c-modal-header .c-filename[data-v-77b3897c]{font-size:.75rem}.c-modal-header .c-file-size[data-v-77b3897c],.c-modal-header .c-filename[data-v-77b3897c],.c-modal-header .c-name[data-v-77b3897c]{user-select:none;text-shadow:1px 1px 2px #1e2021}.c-image-blurry-background[data-v-77b3897c]{position:absolute;display:block;pointer-events:none;filter:blur(50px) brightness(.4);background-position:50%;background-size:contain;background-repeat:no-repeat;background-color:var(--image-viewer-bg-color);inset:-100px}.c-close-btn[data-v-77b3897c]{position:absolute;right:.75rem;top:1rem;background-color:var(--image-viewer-btn-color);color:var(--image-viewer-text-color)}.c-close-btn[data-v-77b3897c]:focus,.c-close-btn[data-v-77b3897c]:hover{background-color:var(--image-viewer-btn-color_active);color:var(--image-viewer-btn-text-color_active)}button.c-image-nav-btn[data-v-77b3897c]{position:absolute;z-index:3;top:50%;transform:translateY(-50%);background-color:var(--image-viewer-cta-bg-color);color:var(--image-viewer-cta-text-color);border-color:var(--image-viewer-cta-border-color);width:2.5rem;height:2.5rem}button.c-image-nav-btn[data-v-77b3897c]:focus{box-shadow:0 0 0 2px var(--image-viewer-cta-box-shadow-color)}button.c-image-nav-btn.is-prev[data-v-77b3897c]{left:1rem}button.c-image-nav-btn.is-next[data-v-77b3897c]{right:1rem}@media screen and (max-width:768px){button.c-image-nav-btn[data-v-77b3897c]{width:2rem;height:2rem;font-size:.75rem}button.c-image-nav-btn.is-prev[data-v-77b3897c]{left:.75rem}button.c-image-nav-btn.is-next[data-v-77b3897c]{right:.75rem}}.c-invisible-link[data-v-77b3897c]{position:relative;top:-10rem;left:-10rem;opacity:0;pointer-events:none}\", map: undefined, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-77b3897c\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (true && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__"],
  "mappings": "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",
  "names": ["linearScaler", "linearScale", "getSign", "v", "__vue_script__", "pointerEventsMixins_default", "SliderContinuous_default", "debounce", "attrs", "tx", "ty", "scaleVal", "percentDiff", "imgEl", "naturalWidth", "naturalHeight", "aspectRatio", "viewAreaWidth", "viewAreaHeight", "zoomMin", "minWidth", "minHeight", "fraction", "center", "transX", "transY", "widthCalc", "heightCalc", "viewAreaTop", "viewAreaLeft", "x", "y", "width", "height", "half", "boundary", "val", "zoomPoint", "twoPointsAreSame", "p1", "p2", "centerUpdated", "prevWidth", "prevHeight", "prevTopX", "prevTopY", "percentX", "percentY", "afterWidth", "afterHeight", "afterTopX", "afterTopY", "toX", "toY", "zoomDiff", "moveX", "moveY", "override", "movableX", "movableY", "newX", "newY", "signX", "signY", "newVal", "changeFactor", "currZoom", "updateVal", "point", "mdownPoint", "dx", "dy", "shouldZoomOut", "zoomInVal", "__vue_render__", "_vm", "_h", "_c", "$event", "__vue_staticRenderFns__", "__vue_inject_styles__", "inject", "__vue_scope_id__", "__vue_module_identifier__", "__vue_is_functional_template__", "__vue_normalize__", "template", "style", "script", "scope", "functional", "moduleIdentifier", "shadowMode", "createInjector", "createInjectorSSR", "createInjectorShadow", "component", "hook", "context", "originalRender", "h", "existing", "__vue_create_injector__", "styles", "isOldIE", "id", "css", "group", "code", "index", "head", "el", "textNode", "nodes", "__vue_component__", "PreviewImageArea_default", "__vue_script__", "trapFocus_default", "AvatarUser_default", "PreviewImageArea_default", "mapGetters", "contractID", "len", "esm_default", "DELETE_ATTACHMENT_FEEDBACK", "size", "formatBytesDecimal", "CLOSE_MODAL", "aTag", "DELETE_ATTACHMENT", "action", "manifestCid", "cid", "image", "__vue_render__", "_vm", "_h", "_c", "$event", "__vue_staticRenderFns__", "__vue_inject_styles__", "inject", "__vue_scope_id__", "__vue_module_identifier__", "__vue_is_functional_template__", "__vue_normalize__", "template", "style", "script", "scope", "functional", "moduleIdentifier", "shadowMode", "createInjector", "createInjectorSSR", "createInjectorShadow", "component", "hook", "context", "originalRender", "h", "existing", "__vue_create_injector__", "styles", "isOldIE", "id", "css", "group", "code", "index", "head", "el", "textNode", "nodes", "__vue_component__", "ImageViewerModal_default"]
}
