import{b as x,f as M}from"./chunk-MMWHE4QG-cached.js";import{b as R,k as O}from"./chunk-SZPI64OI-cached.js";var h=":against",I=":indifferent",T=":undecided",g=":for",f="percentage",p="disagreement",S="multi-choice",A=t=>Object.keys(t.profiles).filter(e=>t.profiles[e].status===R.ACTIVE).length,b={[f]:function(t,e,n){n=Object.values(n);let o=A(t);e===O&&(o-=1);let l=t.settings.proposals[e].ruleSettings[f].threshold,E=_(f,l,o),r=n.filter(a=>a===I).length,s=n.filter(a=>a===g).length,i=n.filter(a=>a===h).length,u=s+i+r,c=o-u,d=Math.ceil(E*(o-r));return console.debug(`votingRule ${f} for ${e}:`,{neededToPass:d,totalFor:s,totalAgainst:i,totalIndifferent:r,threshold:E,absent:c,turnout:u,population:o}),s>=d?g:s+c<d?h:T},[p]:function(t,e,n){n=Object.values(n);let o=A(t),l=e===O?2:1,E=Math.max(t.settings.proposals[e].ruleSettings[p].threshold,l),r=_(p,E,o),s=n.filter(c=>c===g).length,i=n.filter(c=>c===h).length,m=n.length,u=o-m;return console.debug(`votingRule ${p} for ${e}:`,{totalFor:s,totalAgainst:i,threshold:r,turnout:m,population:o,absent:u}),i>=r?h:i+u<r?g:T},[S]:function(t,e,n){throw new Error("unimplemented!")}};var V=M(...Object.keys(b).map(t=>x(t))),C=M(...[h,I,T,g].map(t=>x(t))),_=(t,e,n)=>{let o=Math.max(3,n);return{[p]:()=>Math.min(o-1,e),[f]:()=>{let l=2/o;return Math.max(l,e)}}[t]()},D=(t,e)=>Math.ceil(Math.max(3,t)*e),L=t=>Math.round(t*100);export{h as a,g as b,f as c,p as d,V as e,_ as f,D as g,L as h};
//# sourceMappingURL=chunk-GB4D3I4D-cached.js.map
