import{a as y}from"./chunk-WMVHT3GJ-cached.js";import{a as x}from"./chunk-XHZPFS4B-cached.js";import{a as b,c as C}from"./chunk-6P74MMKF-cached.js";import"./chunk-VUYUNB2W-cached.js";import{a as $}from"./chunk-FTWBMR5D-cached.js";import{a as R}from"./chunk-GA3LN23N-cached.js";import"./chunk-3VFZYJBQ-cached.js";import"./chunk-MEHASGB7-cached.js";import"./chunk-Z7X5SDSD-cached.js";import"./chunk-TEH4GFTX-cached.js";import{b as h}from"./chunk-QVCKPSEU-cached.js";import{a as p}from"./chunk-OMOH7TRL-cached.js";import{b as v,d as g}from"./chunk-WBBXU2FL-cached.js";import{e as A}from"./chunk-XMZXE55N-cached.js";var S=A($());var T={name:"DeleteChannelModal",mixins:[S.validationMixin,x],components:{ModalTemplate:R,BannerSimple:b,BannerScoped:C,ButtonSubmit:y},data(){return{form:{confirmation:!1}}},computed:{...g(["currentChatRoomId","chatRoomAttributes","groupGeneralChatRoomId"]),...v(["currentGroupId"])},methods:{close(){this.$refs.modal.close()},async submit(){if(!this.$v.form.$invalid)try{let e=this.currentChatRoomId;await p("gi.actions/group/deleteChatRoom",{contractID:this.currentGroupId,data:{chatRoomID:e}}),this.close()}catch(e){console.error("RemoveChannelModal submit() error:",e),this.$refs.formMsg.danger(e.message)}}},validations:{form:{confirmation:{[h("Please confirm that you want to delete this channel")]:e=>e===!0}}}},k=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("modal-template",{ref:"modal",attrs:{a11yTitle:e.L("Delete channel")}},[n("template",{slot:"title"},[n("i18n",[e._v("Delete channel")])],1),n("form",{attrs:{novalidate:"novalidate","data-test":"deleteGroup"},on:{submit:function(s){s.preventDefault()}}},[n("i18n",{attrs:{tag:"strong",args:{name:e.chatRoomAttributes.name}}},[e._v("Are you sure you want to delete {name}?")]),n("ul",{staticClass:"c-list"},[n("i18n",{staticClass:"c-list-item",attrs:{tag:"li"}},[e._v("All messages will be deleted;")]),n("i18n",{staticClass:"c-list-item",attrs:{tag:"li"}},[e._v("Members will be removed from the channel;")]),n("i18n",{staticClass:"c-list-item",attrs:{tag:"li"}},[e._v("This channel will no longer be visible.")])],1),n("banner-simple",{staticClass:"c-banner",attrs:{severity:"danger"}},[n("i18n",{attrs:{args:e.LTags("strong")}},[e._v("This action {strong_}cannot be undone{_strong}.")])],1),n("label",{staticClass:"checkbox",attrs:{"data-test":"deleteChannelConfirmation"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.confirmation,expression:"form.confirmation"}],staticClass:"input",attrs:{type:"checkbox",name:"confirmation"},domProps:{checked:Array.isArray(e.form.confirmation)?e._i(e.form.confirmation,null)>-1:e.form.confirmation},on:{change:function(s){var a=e.form.confirmation,d=s.target,o=!!d.checked;if(Array.isArray(a)){var l=null,i=e._i(a,l);d.checked?i<0&&e.$set(e.form,"confirmation",a.concat([l])):i>-1&&e.$set(e.form,"confirmation",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.form,"confirmation",o)}}}),n("i18n",{attrs:{args:Object.assign({},{name:e.chatRoomAttributes.name},e.LTags("strong"))}},[e._v("Yes, I want to {strong_}delete {name} permanently{_strong}.")])],1),n("banner-scoped",{ref:"formMsg"}),n("div",{staticClass:"buttons"},[n("i18n",{staticClass:"is-outlined",attrs:{tag:"button"},on:{click:e.close}},[e._v("Cancel")]),n("button-submit",{staticClass:"is-danger",attrs:{disabled:e.$v.form.$invalid,"data-test":"deleteChannelSubmit"},on:{click:e.submit}},[e._v(e._s(e.L("Delete channel")))])],1)],1)],2)},w=[],M=function(e){e&&e("data-v-172514e6_0",{source:".c-banner[data-v-172514e6]{margin:1.5rem 0 1rem 0}.c-banner[data-v-172514e6]  strong{color:var(--danger_0)}.c-list[data-v-172514e6]{padding-top:.5rem}.c-list .c-list-item[data-v-172514e6]{list-style:initial;margin:.5rem 1rem}",map:void 0,media:void 0})},D="data-v-172514e6",E=void 0,L=!1;function N(e,r,n,s,a,d,o,l,i,m){let t=(typeof n=="function"?n.options:n)||{};t.__file=`style>
`,t.render||(t.render=e.render,t.staticRenderFns=e.staticRenderFns,t._compiled=!0,a&&(t.functional=!0)),t._scopeId=s;{let u;if(r&&(u=o?function(c){r.call(this,m(c,this.$root.$options.shadowRoot))}:function(c){r.call(this,l(c))}),u!==void 0)if(t.functional){let c=t.render;t.render=function(I,_){return u.call(_),c(I,_)}}else{let c=t.beforeCreate;t.beforeCreate=c?[].concat(c,u):[u]}}return t}function f(){let e=f.styles||(f.styles={}),r=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(s,a){if(document.querySelector('style[data-vue-ssr-id~="'+s+'"]'))return;let d=r?a.media||"default":s,o=e[d]||(e[d]={ids:[],parts:[],element:void 0});if(!o.ids.includes(s)){let l=a.source,i=o.ids.length;if(o.ids.push(s),a.map&&(l+=`
/*# sourceURL=`+a.map.sources[0]+" */",l+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(a.map))))+" */"),r&&(o.element=o.element||document.querySelector("style[data-group="+d+"]")),!o.element){let m=document.head||document.getElementsByTagName("head")[0],t=o.element=document.createElement("style");t.type="text/css",a.media&&t.setAttribute("media",a.media),r&&(t.setAttribute("data-group",d),t.setAttribute("data-next-index","0")),m.appendChild(t)}if(r&&(i=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",i+1)),o.element.styleSheet)o.parts.push(l),o.element.styleSheet.cssText=o.parts.filter(Boolean).join(`
`);else{let m=document.createTextNode(l),t=o.element.childNodes;t[i]&&o.element.removeChild(t[i]),t.length?o.element.insertBefore(m,t[i]):o.element.appendChild(m)}}}}var j=N({render:k,staticRenderFns:w},M,T,D,L,E,!1,f,void 0,void 0),z=j;export{z as default};
//# sourceMappingURL=DeleteChannelModal-6OXRQEWO-cached.js.map
