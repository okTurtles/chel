import{a as b}from"./chunk-YUSBLCIF-cached.js";import{a as v}from"./chunk-WMVHT3GJ-cached.js";import{a as y}from"./chunk-GA3LN23N-cached.js";import"./chunk-3VFZYJBQ-cached.js";import"./chunk-MEHASGB7-cached.js";import"./chunk-Z7X5SDSD-cached.js";import"./chunk-TEH4GFTX-cached.js";import{b as h}from"./chunk-QVCKPSEU-cached.js";import{a as p}from"./chunk-OMOH7TRL-cached.js";import"./chunk-WBBXU2FL-cached.js";import"./chunk-XMZXE55N-cached.js";var x={name:"SendThankYouModal",components:{ModalTemplate:y,ButtonSubmit:v,SvgHello:b},data(){return{isConfirmation:!1,form:{memo:null}}},methods:{close(){this.$refs.modal.close(0)},onEnterPressed(){this.form.memo&&this.submit()},async submit(){try{await p("gi.actions/group/sendPaymentThankYou",{contractID:this.$store.state.currentGroupId,data:{toMemberID:this.$route.query.toMemberID,memo:this.form.memo}}),this.isConfirmation=!0}catch(e){console.error("SendThankYouModal caught:",e),alert(h("something went wrong! couldn't process your request to send a thank you note."))}}}},C=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("modal-template",{ref:"modal",staticClass:"has-background",attrs:{a11yTitle:e.L("Send Thank You Modal")}},[n("template",{slot:"subtitle"},[n("i18n",[e._v("Received payments")])],1),n("template",{slot:"title"},[e.isConfirmation?n("i18n",{key:"title_confirm"},[e._v("Your Thank You was sent!")]):n("i18n",[e._v("Thank you!")])],1),n("form",{staticClass:"c-form",on:{submit:function(s){s.preventDefault()},keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.onEnterPressed(s)}}},[e.isConfirmation?n("div",{staticClass:"c-confirmation"},[n("svg-hello",{staticClass:"c-svg"})],1):n("label",{key:"thanks",staticClass:"field"},[n("i18n",{staticClass:"label"},[e._v("What message would you like to send?")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.memo,expression:"form.memo"}],ref:"thanks",staticClass:"textarea",attrs:{maxlength:"500"},domProps:{value:e.form.memo},on:{input:function(s){s.target.composing||e.$set(e.form,"memo",s.target.value)}}})],1),n("div",{staticClass:"buttons c-buttons-container",class:{"is-centered":e.isConfirmation}},[e.isConfirmation?n("button",{key:"awesome",staticClass:"is-outlined",attrs:{"data-test":"confirmBtn",type:"button"},on:{click:e.close}},[e._v(e._s(e.L("Awesome")))]):[n("button",{key:"back",staticClass:"is-outlined",attrs:{type:"button"},on:{click:e.close}},[e._v(e._s(e.L("Back")))]),n("button-submit",{key:"submit",staticClass:"is-success",attrs:{"data-test":"submitBtn",disabled:!e.form.memo},on:{click:e.submit}},[e._v(e._s(e.L("Send Thanks!")))])]],2)])],2)},k=[],S=function(e){e&&e("data-v-066a88e2_0",{source:".c-confirmation[data-v-066a88e2]{text-align:center;margin-bottom:2.875rem}@media screen and (max-width:768px){.c-buttons-container[data-v-066a88e2]{flex-direction:column-reverse;align-items:stretch;gap:1rem}}",map:void 0,media:void 0})},T="data-v-066a88e2",R=void 0,I=!1;function w(e,i,n,s,a,m,o,c,l,d){let t=(typeof n=="function"?n.options:n)||{};t.__file=`style>
`,t.render||(t.render=e.render,t.staticRenderFns=e.staticRenderFns,t._compiled=!0,a&&(t.functional=!0)),t._scopeId=s;{let u;if(i&&(u=o?function(r){i.call(this,d(r,this.$root.$options.shadowRoot))}:function(r){i.call(this,c(r))}),u!==void 0)if(t.functional){let r=t.render;t.render=function(g,_){return u.call(_),r(g,_)}}else{let r=t.beforeCreate;t.beforeCreate=r?[].concat(r,u):[u]}}return t}function f(){let e=f.styles||(f.styles={}),i=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(s,a){if(document.querySelector('style[data-vue-ssr-id~="'+s+'"]'))return;let m=i?a.media||"default":s,o=e[m]||(e[m]={ids:[],parts:[],element:void 0});if(!o.ids.includes(s)){let c=a.source,l=o.ids.length;if(o.ids.push(s),a.map&&(c+=`
/*# sourceURL=`+a.map.sources[0]+" */",c+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(a.map))))+" */"),i&&(o.element=o.element||document.querySelector("style[data-group="+m+"]")),!o.element){let d=document.head||document.getElementsByTagName("head")[0],t=o.element=document.createElement("style");t.type="text/css",a.media&&t.setAttribute("media",a.media),i&&(t.setAttribute("data-group",m),t.setAttribute("data-next-index","0")),d.appendChild(t)}if(i&&(l=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",l+1)),o.element.styleSheet)o.parts.push(c),o.element.styleSheet.cssText=o.parts.filter(Boolean).join(`
`);else{let d=document.createTextNode(c),t=o.element.childNodes;t[l]&&o.element.removeChild(t[l]),t.length?o.element.insertBefore(d,t[l]):o.element.appendChild(d)}}}}var E=w({render:C,staticRenderFns:k},S,x,T,I,R,!1,f,void 0,void 0),j=E;export{j as default};
//# sourceMappingURL=SendThankYouModal-SKP36QVP-cached.js.map
