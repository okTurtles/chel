import{a as x}from"./chunk-J7GSI7JG-cached.js";import{a as v,c as y}from"./chunk-6P74MMKF-cached.js";import{b as p,c as h}from"./chunk-QVCKPSEU-cached.js";import{a as g}from"./chunk-OMOH7TRL-cached.js";import{b}from"./chunk-WBBXU2FL-cached.js";import"./chunk-XMZXE55N-cached.js";var C={name:"Troubleshooting",components:{BannerScoped:y,BannerSimple:v,ProgressBar:x},data(){return{config:{ok:{statusText:p("Ok"),style:"success"}},ephemeral:{status:"ok",sizeMb:"",statusText:"",style:"",progress:{part:"",percentage:0}}}},created(){let e="ok";this.ephemeral.status=e,this.ephemeral.statusText=this.config[e].statusText,this.ephemeral.style=this.config[e].style},computed:{...b(["appLogsFilter"])},methods:{openAppLogs(){this.$router.push({query:{...this.$route.query,tab:"application-logs"}})},async startResync(){let e=p(`This will reset Group Income and log you out.

You will need to log back in with your password and wait for a bit while the app's state is being rebuilt from scratch.

Are you sure?`);if(this.ephemeral.status==="ok"&&!confirm(e))return null;try{this.ephemeral.status="recovering",await g("gi.actions/identity/logout",null,!0),this.ephemeral.status="ok"}catch(a){this.ephemeral.status="failed",this.$refs.doneMsg.danger(p("Re-sync failed. {reportError}",h(a)))}},updateProgress(e,a){this.ephemeral.progress.part=e,this.ephemeral.progress.percentage=a}}},S=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"settings-container"},[r("section",{staticClass:"card"},[r("i18n",{staticClass:"is-title-3",attrs:{tag:"h3"}},[e._v("Re-sync and rebuild data")]),r("p",{staticClass:"c-desc has-text-1"},[r("i18n",[e._v("If you're having trouble with the app, you can try resetting Group Income. This will delete the current app state, and log you out. After you log back in, it may take a few minutes for the app to reset, but that should fix most problems. THIS WILL LOG YOU OUT.")]),r("i18n",{staticClass:"link",attrs:{tag:"button"},on:{click:e.openAppLogs}},[e._v("For diagnostic info, see application logs.")])],1),r("banner-scoped",{ref:"doneMsg",attrs:{"data-test":"doneMsg"}}),r("div",{staticClass:"c-cta-container"},[e.ephemeral.status!=="recovering"?r("i18n",{staticClass:"c-cta",attrs:{tag:"button"},on:{click:e.startResync}},[e._v("Reset Group Income")]):e._e()],1)],1)])},R=[],w=function(e){e&&e("data-v-7a49b3c1_0",{source:"@media screen and (min-width:1200px){.settings-container[data-v-7a49b3c1]{padding-top:1.5rem}}.c-desc[data-v-7a49b3c1]{margin:1rem 0}.c-legend[data-v-7a49b3c1]{display:flex}.c-legend-item[data-v-7a49b3c1]{margin-right:2.5rem}@media screen and (max-width:768px){.c-legend-item[data-v-7a49b3c1]{margin-right:1.5rem}}.c-legend-dd[data-v-7a49b3c1]{font-family:Poppins;font-weight:600;margin-left:.5rem}.c-marker[data-v-7a49b3c1]{display:inline-block;width:.5rem;height:.5rem;margin-left:.5rem;margin-bottom:.06rem;border-radius:1px;border:1px solid}.c-marker.has-background-success-solid[data-v-7a49b3c1]{border-color:var(--success_0)}.c-marker.has-background-danger-solid[data-v-7a49b3c1]{border-color:var(--danger_0)}.c-banner[data-v-7a49b3c1],.c-cta[data-v-7a49b3c1],.c-progress[data-v-7a49b3c1]{margin-top:1.5rem}.c-progress-desc[data-v-7a49b3c1]{display:flex;justify-content:space-between;margin-top:.5rem}.c-cta-container[data-v-7a49b3c1]{display:flex;flex-direction:column;align-items:flex-start;row-gap:.5rem}.c-coming-soon[data-v-7a49b3c1]{display:inline-flex;align-items:center;color:var(--text_1);user-select:none}.c-coming-soon i[data-v-7a49b3c1]{margin-right:.2rem}",map:void 0,media:void 0})},T="data-v-7a49b3c1",I=void 0,L=!1;function A(e,a,r,i,s,u,n,c,d,l){let t=(typeof r=="function"?r.options:r)||{};t.__file=`style>
`,t.render||(t.render=e.render,t.staticRenderFns=e.staticRenderFns,t._compiled=!0,s&&(t.functional=!0)),t._scopeId=i;{let m;if(a&&(m=n?function(o){a.call(this,l(o,this.$root.$options.shadowRoot))}:function(o){a.call(this,c(o))}),m!==void 0)if(t.functional){let o=t.render;t.render=function(k,_){return m.call(_),o(k,_)}}else{let o=t.beforeCreate;t.beforeCreate=o?[].concat(o,m):[m]}}return t}function f(){let e=f.styles||(f.styles={}),a=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(i,s){if(document.querySelector('style[data-vue-ssr-id~="'+i+'"]'))return;let u=a?s.media||"default":i,n=e[u]||(e[u]={ids:[],parts:[],element:void 0});if(!n.ids.includes(i)){let c=s.source,d=n.ids.length;if(n.ids.push(i),s.map&&(c+=`
/*# sourceURL=`+s.map.sources[0]+" */",c+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(s.map))))+" */"),a&&(n.element=n.element||document.querySelector("style[data-group="+u+"]")),!n.element){let l=document.head||document.getElementsByTagName("head")[0],t=n.element=document.createElement("style");t.type="text/css",s.media&&t.setAttribute("media",s.media),a&&(t.setAttribute("data-group",u),t.setAttribute("data-next-index","0")),l.appendChild(t)}if(a&&(d=parseInt(n.element.getAttribute("data-next-index")),n.element.setAttribute("data-next-index",d+1)),n.element.styleSheet)n.parts.push(c),n.element.styleSheet.cssText=n.parts.filter(Boolean).join(`
`);else{let l=document.createTextNode(c),t=n.element.childNodes;t[d]&&n.element.removeChild(t[d]),t.length?n.element.insertBefore(l,t[d]):n.element.appendChild(l)}}}}var E=A({render:S,staticRenderFns:R},w,C,T,L,I,!1,f,void 0,void 0),M=E;export{M as default};
//# sourceMappingURL=Troubleshooting-WQHSJK7G-cached.js.map
