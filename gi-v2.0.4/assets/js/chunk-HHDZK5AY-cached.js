import{c as x}from"./chunk-VEV6LVHD-cached.js";import{p as v}from"./chunk-WWKTCH3O-cached.js";import{a as b}from"./chunk-P7FSS7WT-cached.js";import{b as p}from"./chunk-QVCKPSEU-cached.js";import{a as u}from"./chunk-OMOH7TRL-cached.js";import{d as g}from"./chunk-WBBXU2FL-cached.js";var C={name:"NotificationList",props:{variant:{type:String,validator:e=>["compact","default"].includes(e),default:"default"}},data:()=>({ephemeral:{isLoading:!1,isSelectingText:!1}}),components:{AvatarUser:b},computed:{...g(["currentNotificationCount","currentNewNotifications","currentOlderNotifications"]),notificationLists(){let e="OLDER",r=[{title:p("NEW"),items:this.currentNewNotifications},{title:p("OLDER"),items:this.currentOlderNotifications}].filter(t=>t.items.length>0);return r.length===1&&r[0].title===e&&(r[0].title=""),r}},methods:{ageTag(e){return v(e.timestamp)},handleItemClick(e){(!this.ephemeral.isSelectingText||!window.getSelection().toString())&&(this.markAsRead(e),e.sbpInvocation?u(...e.sbpInvocation):e.linkTo&&this.$router.push(e.linkTo).catch(console.warn),this.$emit("select")),this.ephemeral.isSelectingText=!1},iconBg(e){return{info:"has-background-primary has-text-primary",success:"has-background-success has-text-success",danger:"has-background-danger has-text-danger"}[e]},markAsRead(e){u("gi.notifications/markAsRead",e)},swapMemberMention(e){return x(e,{escaped:!1,forChat:!1})}}},k=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{class:e.variant,attrs:{"data-test":"notificationList"}},[e.ephemeral.isLoading?t("div",{staticClass:"c-loading"},[t("i18n",{staticClass:"sr-only"},[e._v("Loading...")]),e._l([0,1,2,3],function(s){return t("div",{key:s,staticClass:"c-skeleton"},[t("div",{staticClass:"c-skeleton-circle"}),t("div",{staticClass:"c-skeleton-line"})])})],2):e.currentNotificationCount?e._l(e.notificationLists,function(s){return[s.title?t("span",{staticClass:"is-subtitle c-title"},[e._v(e._s(s.title))]):e._e(),t("ul",{staticClass:"c-list",attrs:{"aria-label":s.title}},e._l(s.items,function(i){return t("li",[t("a",{staticClass:"c-item",class:i.read?"":"unread",attrs:{draggable:"false"},on:{click:function(c){return e.handleItemClick(i)},selectstart:function(c){e.ephemeral.isSelectingText=!0}}},[t("span",{staticClass:"c-thumbCircle"},[t("avatar-user",{attrs:{contractID:i.avatarUserID,size:"md"}}),i.icon?t("i",{class:"icon-"+i.icon+" "+e.iconBg(i.level)}):e._e()],1),t("span",{staticClass:"c-item-content"},[t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.swapMemberMention(i.body),expression:"swapMemberMention(item.body)"}],staticClass:"c-item-text"}),t("span",{staticClass:"c-item-date has-text-1 has-text-small"},[e._v(e._s(e.ageTag(i)))])])])])}),0)]}):t("div",{staticClass:"c-empty"},[t("i18n",{staticClass:"has-text-1"},[e._v("Nothing to see here... yet!")])],1)],2)},w=[],S=function(e){e&&e("data-v-632f2eac_0",{source:".c-empty[data-v-632f2eac]{padding:3rem 1rem;text-align:center}.compact .c-loading[data-v-632f2eac]{padding:0 1rem}.c-skeleton[data-v-632f2eac]{display:flex;align-items:center;padding:1rem 0}.c-skeleton-circle[data-v-632f2eac]{display:block;width:2.5rem;height:2.5rem;border-radius:50%;margin-right:.5rem;background-color:var(--general_2)}.c-skeleton-line[data-v-632f2eac]{flex-grow:1;height:1.5rem;border-radius:.7rem;background-color:var(--general_2)}.c-title[data-v-632f2eac]{display:block;padding:0 0 .5rem}@media screen and (min-width:769px),print{.c-title[data-v-632f2eac]{padding-left:.5rem}}.compact .c-title[data-v-632f2eac]{padding-left:1rem}.c-list[data-v-632f2eac]{margin-bottom:.5rem}.c-item[data-v-632f2eac]{position:relative;display:flex;align-items:center;min-height:3rem;cursor:pointer}.c-item[data-v-632f2eac]:focus,.c-item[data-v-632f2eac]:hover{background-color:var(--general_2)}.c-item[data-v-632f2eac]:focus{z-index:1;outline:1px solid var(--primary_0)}.c-item.unread[data-v-632f2eac]{background-color:var(--general_2)}.default .c-item[data-v-632f2eac]{padding:1rem .5rem}@media screen and (min-width:769px),print{.default .c-item .c-item-text[data-v-632f2eac]{display:block}}.compact .c-item[data-v-632f2eac]{padding:1rem}.c-item-content[data-v-632f2eac]{flex-grow:1;margin-left:.5rem}.c-item-date[data-v-632f2eac]{margin-left:.5rem}@media screen and (min-width:769px),print{.default .c-item-date[data-v-632f2eac]{margin-left:0}}.c-item-text[data-v-632f2eac]{word-break:break-word;word-wrap:break-word}.c-thumbCircle[data-v-632f2eac]{position:relative;display:inline-block;flex-shrink:0}.c-thumbCircle i[data-v-632f2eac]{position:absolute;bottom:0;right:0;width:1rem;height:1rem;font-size:.5rem;line-height:1rem;text-align:center;border-radius:50%}",map:void 0,media:void 0})},N="data-v-632f2eac",R=void 0,I=!1;function T(e,r,t,s,i,c,n,d,l,m){let a=(typeof t=="function"?t.options:t)||{};a.__file=`style>
`,a.render||(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,i&&(a.functional=!0)),a._scopeId=s;{let f;if(r&&(f=n?function(o){r.call(this,m(o,this.$root.$options.shadowRoot))}:function(o){r.call(this,d(o))}),f!==void 0)if(a.functional){let o=a.render;a.render=function(y,h){return f.call(h),o(y,h)}}else{let o=a.beforeCreate;a.beforeCreate=o?[].concat(o,f):[f]}}return a}function _(){let e=_.styles||(_.styles={}),r=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(s,i){if(document.querySelector('style[data-vue-ssr-id~="'+s+'"]'))return;let c=r?i.media||"default":s,n=e[c]||(e[c]={ids:[],parts:[],element:void 0});if(!n.ids.includes(s)){let d=i.source,l=n.ids.length;if(n.ids.push(s),i.map&&(d+=`
/*# sourceURL=`+i.map.sources[0]+" */",d+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(i.map))))+" */"),r&&(n.element=n.element||document.querySelector("style[data-group="+c+"]")),!n.element){let m=document.head||document.getElementsByTagName("head")[0],a=n.element=document.createElement("style");a.type="text/css",i.media&&a.setAttribute("media",i.media),r&&(a.setAttribute("data-group",c),a.setAttribute("data-next-index","0")),m.appendChild(a)}if(r&&(l=parseInt(n.element.getAttribute("data-next-index")),n.element.setAttribute("data-next-index",l+1)),n.element.styleSheet)n.parts.push(d),n.element.styleSheet.cssText=n.parts.filter(Boolean).join(`
`);else{let m=document.createTextNode(d),a=n.element.childNodes;a[l]&&n.element.removeChild(a[l]),a.length?n.element.insertBefore(m,a[l]):n.element.appendChild(m)}}}}var L=T({render:k,staticRenderFns:w},S,C,N,I,R,!1,_,void 0,void 0),D=L;export{D as a};
//# sourceMappingURL=chunk-HHDZK5AY-cached.js.map
