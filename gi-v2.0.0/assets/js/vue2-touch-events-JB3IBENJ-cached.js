import{c as M}from"./chunk-XMZXE55N-cached.js";var Y=M((y,b)=>{function k(s){return s.type.indexOf("mouse")!==-1?s.clientX:s.touches[0].clientX}function S(s){return s.type.indexOf("mouse")!==-1?s.clientY:s.touches[0].clientY}var X=function(){var s=!1;try{var v=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,v)}catch{}return s}(),d={install:function(s,v){var E=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:""},v);function h(t){var e=this.$$touchObj,o=t.type.indexOf("touch")>=0,a=t.type.indexOf("mouse")>=0,c=this;o&&(e.lastTouchStartTime=t.timeStamp),!(a&&e.lastTouchStartTime&&t.timeStamp-e.lastTouchStartTime<350)&&(e.touchStarted||(j(this),e.touchStarted=!0,e.touchMoved=!1,e.swipeOutBounded=!1,e.startX=k(t),e.startY=S(t),e.currentX=0,e.currentY=0,e.touchStartTime=t.timeStamp,e.touchHoldTimer=setTimeout(function(){e.touchHoldTimer=null,n(t,c,"touchhold")},e.options.touchHoldTolerance),n(t,this,"start")))}function l(t){var e=this.$$touchObj;if(e.currentX=k(t),e.currentY=S(t),e.touchMoved){if(!e.swipeOutBounded){var a=e.options.swipeTolerance;e.swipeOutBounded=Math.abs(e.startX-e.currentX)>a&&Math.abs(e.startY-e.currentY)>a}}else{var o=e.options.tapTolerance;e.touchMoved=Math.abs(e.startX-e.currentX)>o||Math.abs(e.startY-e.currentY)>o,e.touchMoved&&(m(e),n(t,this,"moved"))}e.touchMoved&&n(t,this,"moving")}function O(){var t=this.$$touchObj;m(t),p(this),t.touchStarted=t.touchMoved=!1,t.startX=t.startY=0}function f(t){var e=this.$$touchObj,o=t.type.indexOf("touch")>=0,a=t.type.indexOf("mouse")>=0;o&&(e.lastTouchEndTime=t.timeStamp);var c=o&&!e.touchHoldTimer;if(m(e),e.touchStarted=!1,p(this),!(a&&e.lastTouchEndTime&&t.timeStamp-e.lastTouchEndTime<350))if(n(t,this,"end"),e.touchMoved){if(!e.swipeOutBounded){var u=e.options.swipeTolerance,i;Math.abs(e.startX-e.currentX)<u?i=e.startY>e.currentY?"top":"bottom":i=e.startX>e.currentX?"left":"right",e.callbacks["swipe."+i]?n(t,this,"swipe."+i,i):n(t,this,"swipe",i)}}else if(e.callbacks.longtap&&t.timeStamp-e.touchStartTime>e.options.longTapTimeInterval)t.cancelable&&t.preventDefault(),n(t,this,"longtap");else if(e.callbacks.touchhold&&c){t.cancelable&&t.preventDefault();return}else n(t,this,"tap")}function w(){j(this)}function L(){p(this)}function n(t,e,o,a){var c=e.$$touchObj,u=c.callbacks[o]||[];if(u.length===0)return null;for(var i=0;i<u.length;i++){var r=u[i];r.modifiers.stop&&t.stopPropagation(),r.modifiers.prevent&&t.preventDefault(),!(r.modifiers.self&&t.target!==t.currentTarget)&&typeof r.value=="function"&&(a?r.value(a,t):r.value(t))}}function j(t){var e=t.$$touchObj.options.touchClass;e&&t.classList.add(e)}function p(t){var e=t.$$touchObj.options.touchClass;e&&t.classList.remove(e)}function m(t){t.touchHoldTimer&&(clearTimeout(t.touchHoldTimer),t.touchHoldTimer=null)}function T(t,e){var o=t.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:E};return e&&(o.options=Object.assign({},o.options,e)),t.$$touchObj=o,t.$$touchObj}s.directive("touch",{bind:function(t,e){var o=T(t),a=X?{passive:!0}:!1,c=e.arg||"tap";switch(c){case"swipe":var u=e.modifiers;if(u.left||u.right||u.top||u.bottom){for(var i in e.modifiers)if(["left","right","top","bottom"].indexOf(i)>=0){var r="swipe."+i;o.callbacks[r]=o.callbacks[r]||[],o.callbacks[r].push(e)}}else o.callbacks.swipe=o.callbacks.swipe||[],o.callbacks.swipe.push(e);break;case"start":case"moving":e.modifiers.disablePassive&&(a=!1);default:o.callbacks[c]=o.callbacks[c]||[],o.callbacks[c].push(e)}o.hasBindTouchEvents||(t.addEventListener("touchstart",h,a),t.addEventListener("touchmove",l,a),t.addEventListener("touchcancel",O),t.addEventListener("touchend",f),o.options.disableClick||(t.addEventListener("mousedown",h),t.addEventListener("mousemove",l),t.addEventListener("mouseup",f),t.addEventListener("mouseenter",w),t.addEventListener("mouseleave",L)),o.hasBindTouchEvents=!0)},unbind:function(t){t.removeEventListener("touchstart",h),t.removeEventListener("touchmove",l),t.removeEventListener("touchcancel",O),t.removeEventListener("touchend",f),t.$$touchObj&&!t.$$touchObj.options.disableClick&&(t.removeEventListener("mousedown",h),t.removeEventListener("mousemove",l),t.removeEventListener("mouseup",f),t.removeEventListener("mouseenter",w),t.removeEventListener("mouseleave",L)),delete t.$$touchObj}}),s.directive("touch-class",{bind:function(t,e){T(t,{touchClass:e.value})}}),s.directive("touch-options",{bind:function(t,e){T(t,e.value)}})}};typeof b=="object"?b.exports=d:typeof define=="function"&&define.amd?define([],function(){return d}):window.Vue&&(window.vueTouchEvents=d,Vue.use(d))});export default Y();
//# sourceMappingURL=vue2-touch-events-JB3IBENJ-cached.js.map
