import{a as S}from"./chunk-WMVHT3GJ-cached.js";import{a as R}from"./chunk-XHZPFS4B-cached.js";import{a as C,c as $}from"./chunk-6P74MMKF-cached.js";import{f as p}from"./chunk-VUYUNB2W-cached.js";import{b as L}from"./chunk-B4L7IMS4-cached.js";import"./chunk-R4DRX7L2-cached.js";import{a as T}from"./chunk-FTWBMR5D-cached.js";import{a as E}from"./chunk-BZWIYGWR-cached.js";import"./chunk-SVSS5DEP-cached.js";import"./chunk-MEHASGB7-cached.js";import"./chunk-Z7X5SDSD-cached.js";import"./chunk-M3EDVPDK-cached.js";import{b as c}from"./chunk-33M5GGRR-cached.js";import{a as b}from"./chunk-OMOH7TRL-cached.js";import{b as x,d as y}from"./chunk-WBBXU2FL-cached.js";import{e as h}from"./chunk-XMZXE55N-cached.js";var I=h(T()),_=h(L());var M={name:"GroupLeaveModal",mixins:[I.validationMixin,R],components:{ModalTemplate:E,BannerSimple:C,BannerScoped:$,ButtonSubmit:S},data(){return{form:{username:null,confirmation:null}}},computed:{...x(["currentGroupId"]),...y(["groupSettings","ourUsername","ourIdentityContractId"]),code(){let e=this.groupSettings.groupName||"";return c("LEAVE {GROUP_NAME}",{GROUP_NAME:e.toUpperCase()})}},methods:{close(){this.$refs.modal.close()},async submit(){if(!this.$v.form.$invalid)try{let e=this.currentGroupId;await b("gi.actions/group/removeMember",{contractID:e,data:{}}),this.close()}catch(e){console.error("GroupLeaveModal submit() error:",e),this.$refs.formMsg.danger(e.message)}}},validations:{form:{username:{[c("This field is required")]:_.required,[c("Your username is different")]:function(e){return e===this.ourUsername}},confirmation:{[c("This field is required")]:_.required,[c("Does not match")]:function(e){return p(e)===p(this.code)}}}}},U=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("modal-template",{ref:"modal",attrs:{a11yTitle:e.L("Leave group")}},[n("template",{slot:"title"},[n("i18n",[e._v("Leave group")])],1),n("form",{attrs:{novalidate:"novalidate","data-test":"leaveGroup"},on:{submit:function(o){o.preventDefault()}}},[n("i18n",{attrs:{tag:"p",args:e.LTags("strong")}},[e._v("If you leave, you will stop having access to the {strong_}group chat{_strong} and {strong_}contributions{_strong}. Re-joining the group is possible, but requires other members to {strong_}vote and reach an agreement{_strong}.")]),n("banner-simple",{staticClass:"c-banner",attrs:{severity:"danger"}},[n("i18n",{attrs:{args:e.LTags("strong")}},[e._v("This action {strong_}cannot be undone{_strong}.")])],1),n("label",{staticClass:"field"},[n("i18n",{staticClass:"label"},[e._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"},{name:"error",rawName:"v-error:username",value:{attrs:{"data-test":"usernameError"}},expression:'{ attrs: { "data-test": "usernameError" } }',arg:"username"}],staticClass:"input",class:{error:e.$v.form.username.$error},attrs:{type:"text","data-test":"username"},domProps:{value:e.form.username},on:{input:[function(o){o.target.composing||e.$set(e.form,"username",o.target.value)},function(o){return e.debounceField("username")}],blur:function(o){return e.updateField("username")}}})],1),n("label",{staticClass:"field"},[n("i18n",{staticClass:"label",attrs:{args:{code:e.code}}},[e._v('Type "{code}" below')]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.confirmation,expression:"form.confirmation"},{name:"error",rawName:"v-error:confirmation",value:{attrs:{"data-test":"confirmationError"}},expression:'{ attrs: { "data-test": "confirmationError" } }',arg:"confirmation"}],staticClass:"input",class:{error:e.$v.form.confirmation.$error},attrs:{type:"text","data-test":"confirmation"},domProps:{value:e.form.confirmation},on:{input:[function(o){o.target.composing||e.$set(e.form,"confirmation",o.target.value)},function(o){return e.debounceField("confirmation")}],blur:function(o){return e.updateField("confirmation")}}})],1),n("banner-scoped",{ref:"formMsg"}),n("div",{staticClass:"buttons"},[n("i18n",{staticClass:"is-outlined",attrs:{tag:"button",type:"button"},on:{click:e.close}},[e._v("Cancel")]),n("button-submit",{staticClass:"is-danger",attrs:{disabled:e.$v.form.$invalid,"data-test":"btnSubmit"},on:{click:e.submit}},[e._v(e._s(e.L("Leave Group")))])],1)],1)],2)},w=[],A=function(e){e&&e("data-v-8feb9d7e_0",{source:".c-banner[data-v-8feb9d7e]{margin:1.5rem 0}",map:void 0,media:void 0})},G="data-v-8feb9d7e",F=void 0,j=!1;function q(e,a,n,o,i,l,r,u,d,m){let t=(typeof n=="function"?n.options:n)||{};t.__file=`style>
`,t.render||(t.render=e.render,t.staticRenderFns=e.staticRenderFns,t._compiled=!0,i&&(t.functional=!0)),t._scopeId=o;{let f;if(a&&(f=r?function(s){a.call(this,m(s,this.$root.$options.shadowRoot))}:function(s){a.call(this,u(s))}),f!==void 0)if(t.functional){let s=t.render;t.render=function(N,g){return f.call(g),s(N,g)}}else{let s=t.beforeCreate;t.beforeCreate=s?[].concat(s,f):[f]}}return t}function v(){let e=v.styles||(v.styles={}),a=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(o,i){if(document.querySelector('style[data-vue-ssr-id~="'+o+'"]'))return;let l=a?i.media||"default":o,r=e[l]||(e[l]={ids:[],parts:[],element:void 0});if(!r.ids.includes(o)){let u=i.source,d=r.ids.length;if(r.ids.push(o),i.map&&(u+=`
/*# sourceURL=`+i.map.sources[0]+" */",u+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(i.map))))+" */"),a&&(r.element=r.element||document.querySelector("style[data-group="+l+"]")),!r.element){let m=document.head||document.getElementsByTagName("head")[0],t=r.element=document.createElement("style");t.type="text/css",i.media&&t.setAttribute("media",i.media),a&&(t.setAttribute("data-group",l),t.setAttribute("data-next-index","0")),m.appendChild(t)}if(a&&(d=parseInt(r.element.getAttribute("data-next-index")),r.element.setAttribute("data-next-index",d+1)),r.element.styleSheet)r.parts.push(u),r.element.styleSheet.cssText=r.parts.filter(Boolean).join(`
`);else{let m=document.createTextNode(u),t=r.element.childNodes;t[d]&&r.element.removeChild(t[d]),t.length?r.element.insertBefore(m,t[d]):r.element.appendChild(m)}}}}var B=q({render:U,staticRenderFns:w},A,M,G,j,F,!1,v,void 0,void 0),H=B;export{H as default};
//# sourceMappingURL=GroupLeaveModal-3UZKELQA-cached.js.map
