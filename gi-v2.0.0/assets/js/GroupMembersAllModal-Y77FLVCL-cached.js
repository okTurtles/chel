import{a as M}from"./chunk-563KO4MD-cached.js";import{a as w}from"./chunk-K6DJLR2Y-cached.js";import{e as T}from"./chunk-WIK6L7P3-cached.js";import{a as C}from"./chunk-ALM2LSB6-cached.js";import"./chunk-ZWHVW34C-cached.js";import"./chunk-KRTYB7RO-cached.js";import{a as y}from"./chunk-WYFJ56Q7-cached.js";import"./chunk-GWRDICTQ-cached.js";import{a as x}from"./chunk-CJC5SPHT-cached.js";import"./chunk-YGZ33QYP-cached.js";import"./chunk-QD6O46IB-cached.js";import"./chunk-WMVHT3GJ-cached.js";import"./chunk-SZPI64OI-cached.js";import"./chunk-SVSS5DEP-cached.js";import"./chunk-MEHASGB7-cached.js";import"./chunk-Z7X5SDSD-cached.js";import{w as _}from"./chunk-M3EDVPDK-cached.js";import{a as b,b as p}from"./chunk-33M5GGRR-cached.js";import{a as v}from"./chunk-OMOH7TRL-cached.js";import{d as g}from"./chunk-WBBXU2FL-cached.js";import"./chunk-XMZXE55N-cached.js";var N={name:"GroupMembersAllModal",components:{ModalBaseTemplate:x,Search:M,AvatarUser:y,GroupMembersTooltipPending:w,ProfileCard:C},data(){return{searchText:"",addedMember:[],canAddMember:!1,name:"",isPrivate:!0}},created(){this.name=this.$route.query.name,this.name&&(this.canAddMember=!0),this.addedMember=this.groupMembersSorted},computed:{...g(["groupMembersSorted","groupMembersCount","ourIdentityContractId","userDisplayNameFromID"]),searchResult(){return T(this.groupMembersSorted,this.searchText,["username","displayName"])},searchCount(){return Object.keys(this.searchResult).length},resultsCopy(){let e={searchCount:`<strong>${this.searchCount}</strong>`,searchTerm:`<strong>${this.searchText}</strong>`,...b("strong")};return this.searchCount===1?p('Showing {strong_}1 result{_strong} for "{searchTerm}"',e):p('Showing {searchCount} {strong_}results{_strong} for "{searchTerm}"',e)}},methods:{localizedName(e){let i=this.userDisplayNameFromID(e);return e===this.ourIdentityContractId?p("{name} (you)",{name:i}):i},closeModal(){this.$refs.modal.close()},removeMember(e){v("okTurtles.events/emit",_,"RemoveMember",{memberID:e})},addToChannel(){console.log("TODO addToChannel")}}},I=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("modal-base-template",{ref:"modal",staticClass:"has-background",attrs:{fullscreen:!0,a11yTitle:e.L("Group members"),autofocus:!1}},[t("div",{staticClass:"c-container"},[t("div",{staticClass:"c-header"},[e.canAddMember?t("div",[t("i18n",{staticClass:"is-title-2 c-title",attrs:{tag:"h2"}},[e._v("Members")]),t("div",{staticClass:"c-description"},[e._v(e._s(e.name)+" . "+e._s(e.isPrivate?e.L("Private channel"):e.L("Public channel")))])],1):t("i18n",{staticClass:"is-title-2 c-title",attrs:{tag:"h2"}},[e._v("Group members")])],1),t("div",{staticClass:"card c-card"},[t("search",{attrs:{placeholder:e.L("Search..."),label:e.L("Search"),autofocus:!0},model:{value:e.searchText,callback:function(r){e.searchText=r},expression:"searchText"}}),e.searchText&&e.searchCount>0?t("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.resultsCopy,expression:"resultsCopy"}],staticClass:"c-member-count has-text-1",attrs:{"data-test":"memberSearchCount"}}):e._e(),e.searchText&&e.searchCount===0?t("i18n",{staticClass:"c-member-count has-text-1",attrs:{tag:"div",args:{searchTerm:"<strong>"+e.searchText+"</strong>"}}},[e._v(`Sorry, we couldn't find anyone called "{searchTerm}"`)]):e._e(),!e.searchText&&!e.canAddMember?t("i18n",{staticClass:"c-member-count has-text-1",attrs:{tag:"div",args:{groupMembersCount:e.groupMembersCount},"data-test":"memberCount"}},[e._v("{groupMembersCount} members")]):e._e(),e.canAddMember?t("div",{staticClass:"c-list-to-add"},[t("div",{staticClass:"is-subtitle"},[t("i18n",{attrs:{tag:"h3",args:{nbMembers:e.groupMembersSorted.length}}},[e._v("Channel members ({nbMembers})")])],1),e.addedMember?t("transition-group",{attrs:{name:"slide-list",tag:"ul"}},e._l(e.addedMember,function(r){var n=r.contractID,o=r.username,s=r.displayName,d=r.invitedBy,l=r.isNew;return t("li",{key:e.addedMember,staticClass:"c-search-member"},[t("profile-card",{attrs:{contractID:n,direction:"top-left"}},[t("div",{staticClass:"c-identity"},[t("avatar-user",{attrs:{contractID:n,size:"sm"}}),t("div",{staticClass:"c-name",attrs:{"data-test":"username"}},[t("span",[t("strong",[e._v(e._s(e.localizedName(o)))]),s!==o?t("div",{staticClass:"c-display-name",attrs:{"data-test":"profileName"}},[e._v("@"+e._s(o))]):e._e()])])],1),t("div",{staticClass:"c-actions"},[t("button",{staticClass:"is-icon",on:{click:function(c){return c.stopPropagation(),e.removeMember(c)}}},[t("i",{staticClass:"icon-times"})])])])],1)}),0):e._e(),t("div",{staticClass:"is-subtitle c-second-section"},[t("i18n",{attrs:{tag:"h3",args:{nbMembers:e.addedMember.length}}},[e._v("Others ({nbMembers})")])],1)],1):e._e(),e.searchResult?t("transition-group",{attrs:{name:"slide-list",tag:"ul"}},e._l(e.searchResult,function(r){var n=r.contractID,o=r.username,s=r.displayName,d=r.invitedBy,l=r.isNew;return t("li",{key:n,staticClass:"c-search-member"},[t("profile-card",{attrs:{contractID:n,direction:"top-left"}},[t("div",{staticClass:"c-identity"},[t("avatar-user",{attrs:{contractID:n,size:"sm"}}),t("div",{staticClass:"c-name",attrs:{"data-test":"username"}},[t("span",[t("strong",[e._v(e._s(e.localizedName(o)))]),s!==o?t("div",{staticClass:"c-display-name",attrs:{"data-test":"profileName"}},[e._v("@"+e._s(o))]):e._e()]),d?t("i18n",{staticClass:"pill is-neutral",attrs:{"data-test":"pillPending"}},[e._v("pending")]):l?t("i18n",{staticClass:"pill is-primary",attrs:{"data-test":"pillNew"}},[e._v("new")]):e._e()],1)],1),t("div",{staticClass:"c-actions"},[e.$route.query.toRemove?t("button",{staticClass:"is-icon",on:{click:function(c){return c.stopPropagation(),e.removeMember(n)}}},[t("i",{staticClass:"icon-times"})]):e.addedMember?t("i18n",{staticClass:"button is-outlined is-small",attrs:{tag:"button","data-test":"addToChannel",args:e.LTags("span")},on:{click:function(c){return c.stopPropagation(),e.addToChannel()}}},[e._v("Add {span_}to channel{_span}")]):d?t("group-members-tooltip-pending",{attrs:{contractID:n}}):e._e()],1)])],1)}),0):e._e()],1)])])},R=[],k=function(e){e&&e("data-v-1bf21ce5_0",{source:'.c-container[data-v-1bf21ce5]{height:100%;width:100%;background-color:var(--general_2)}@media screen and (min-width:769px),print{.c-container[data-v-1bf21ce5],.c-header[data-v-1bf21ce5]{width:50rem;max-width:100%}}.c-header[data-v-1bf21ce5]{display:flex;height:4.75rem;justify-content:center;align-items:center;padding-top:0;background-color:var(--background_0);margin:0 -1rem}@media screen and (max-width:768px){.c-header[data-v-1bf21ce5]{justify-content:left;padding-left:1rem}}@media screen and (min-width:769px),print{.c-header[data-v-1bf21ce5]{padding-top:2rem;justify-content:flex-start;background-color:transparent;margin:0}}.c-description[data-v-1bf21ce5]{color:var(--text_1)}@media screen and (max-width:768px){.c-description[data-v-1bf21ce5]{position:absolute;top:5.5rem}}.c-card[data-v-1bf21ce5]{margin-top:1.5rem}@media screen and (max-width:768px){.c-card[data-v-1bf21ce5]{margin-top:3rem}}.c-member-count[data-v-1bf21ce5]{margin-top:.5rem;margin-bottom:1.5rem}.c-identity[data-v-1bf21ce5]{display:flex;align-items:center;flex-grow:1}.c-name[data-v-1bf21ce5]{margin:0 .5rem 0 1.5rem;width:100%;display:flex;align-items:center;justify-content:space-between}.c-display-name[data-v-1bf21ce5]{color:var(--text_1)}.c-search-member .c-twrapper[data-v-1bf21ce5]{display:flex;height:4.5rem;padding:0 .5rem;justify-content:space-between;align-items:center;border-bottom:1px solid var(--general_0);transition:opacity ease-in .25s,height ease-in .25s}.c-search-member .c-twrapper[data-v-1bf21ce5]:last-child{border-bottom:0}.c-search-member .c-twrapper[data-v-1bf21ce5]:hover{background-color:var(--general_1);cursor:pointer}.slide-list-enter[data-v-1bf21ce5],.slide-list-leave-to[data-v-1bf21ce5]{height:0;opacity:0}.slide-list-leave-active[data-v-1bf21ce5]{overflow:hidden;border-bottom:0}.c-actions-buttons[data-v-1bf21ce5]{display:none;margin-top:0}.c-actions-buttons i[data-v-1bf21ce5]{margin-right:.5rem}@media screen and (min-width:769px),print{.c-actions-buttons[data-v-1bf21ce5]{display:block}}@media screen and (max-width:768px){[data-v-1bf21ce5] .c-actions span{display:none}}[data-v-1bf21ce5] .c-actions i+span{margin-left:.3rem}@media screen and (min-width:769px),print{.c-action-menu[data-v-1bf21ce5]{display:none}}.is-subtitle[data-v-1bf21ce5]{display:flex;margin-top:1.875rem;margin-bottom:.5rem}.c-second-section[data-v-1bf21ce5]::before{content:"";position:absolute;background-color:var(--general_2);height:1px;width:calc(100% + 6rem);top:0;left:-3rem}',map:void 0,media:void 0})},A="data-v-1bf21ce5",D=void 0,L=!1;function j(e,i,t,r,n,o,s,d,l,c){let a=(typeof t=="function"?t.options:t)||{};a.__file=`style>
`,a.render||(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,n&&(a.functional=!0)),a._scopeId=r;{let u;if(i&&(u=s?function(m){i.call(this,c(m,this.$root.$options.shadowRoot))}:function(m){i.call(this,d(m))}),u!==void 0)if(a.functional){let m=a.render;a.render=function(S,f){return u.call(f),m(S,f)}}else{let m=a.beforeCreate;a.beforeCreate=m?[].concat(m,u):[u]}}return a}function h(){let e=h.styles||(h.styles={}),i=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(r,n){if(document.querySelector('style[data-vue-ssr-id~="'+r+'"]'))return;let o=i?n.media||"default":r,s=e[o]||(e[o]={ids:[],parts:[],element:void 0});if(!s.ids.includes(r)){let d=n.source,l=s.ids.length;if(s.ids.push(r),n.map&&(d+=`
/*# sourceURL=`+n.map.sources[0]+" */",d+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),i&&(s.element=s.element||document.querySelector("style[data-group="+o+"]")),!s.element){let c=document.head||document.getElementsByTagName("head")[0],a=s.element=document.createElement("style");a.type="text/css",n.media&&a.setAttribute("media",n.media),i&&(a.setAttribute("data-group",o),a.setAttribute("data-next-index","0")),c.appendChild(a)}if(i&&(l=parseInt(s.element.getAttribute("data-next-index")),s.element.setAttribute("data-next-index",l+1)),s.element.styleSheet)s.parts.push(d),s.element.styleSheet.cssText=s.parts.filter(Boolean).join(`
`);else{let c=document.createTextNode(d),a=s.element.childNodes;a[l]&&s.element.removeChild(a[l]),a.length?s.element.insertBefore(c,a[l]):s.element.appendChild(c)}}}}var P=j({render:I,staticRenderFns:R},k,N,A,L,D,!1,h,void 0,void 0),J=P;export{J as default};
//# sourceMappingURL=GroupMembersAllModal-Y77FLVCL-cached.js.map
