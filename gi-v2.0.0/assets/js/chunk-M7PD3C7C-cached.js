import{a as v}from"./chunk-WYFJ56Q7-cached.js";import{a as h}from"./chunk-WMVHT3GJ-cached.js";import{d as _}from"./chunk-WBBXU2FL-cached.js";var g={name:"UsersSelector",components:{AvatarUser:v,ButtonSubmit:h},props:{label:{type:String,required:!0},userIDs:{type:Array,default:[]},defaultValue:{type:String,default:""},autofocus:{type:Boolean,default:!1}},data(){return{value:"",submitting:!1}},computed:{..._(["userDisplayNameFromID"])},mounted(){this.$refs.input.innerHTML=this.defaultValue,this.value=this.defaultValue,this.autofocus&&this.$refs.input.focus()},methods:{remove(e){this.$emit("remove",e)},clear(){this.$refs.input.focus(),this.$refs.input.innerHTML="",this.value=""},onHandleKeyDown(e){let{keyCode:i}=e;(i===13||i===39)&&e.preventDefault()},onHandleKeyUp(e){let{keyCode:i}=e;if(i===13||i===39){this.$emit("submit");return}this.value=this.$refs.input.textContent},async submitHandler(e){await this.$listeners.submit(e)}},watch:{value(){this.$emit("change",this.value)}}},x=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("form",{staticClass:"c-search-form",on:{submit:function(r){r.preventDefault()}}},[n("label",{staticClass:"field"},[n("div",{staticClass:"sr-only"},[e._v(e._s(e.label))]),n("div",{staticClass:"inputgroup c-search",on:{click:e.clear}},[e._m(0),n("div",{staticClass:"input",attrs:{type:"text",name:"search"}},[e._l(e.userIDs,function(r,s){return n("div",{key:s,staticClass:"profile-wrapper"},[n("div",{staticClass:"profile"},[n("avatar-user",{attrs:{contractID:r,size:"xs"}}),n("div",{staticClass:"c-name has-text-bold"},[e._v(e._s(e.userDisplayNameFromID(r)))]),n("div",{staticClass:"button is-icon-small",attrs:{"aria-label":e.L("Clear search")},on:{click:function(c){return c.preventDefault(),c.stopPropagation(),e.remove(r)}}},[n("i",{staticClass:"icon-times"})])],1)])}),n("div",{ref:"input",staticClass:"c-keyword",attrs:{contenteditable:"contenteditable","data-test":"users-selector"},on:{keydown:e.onHandleKeyDown,keyup:e.onHandleKeyUp}})],2)])]),e.userIDs.length?n("div",{staticClass:"buttons is-end c-button-container"},[n("button-submit",{staticClass:"is-success c-create-btn",on:{click:e.submitHandler}},[n("i18n",[e._v("Create")])],1)],1):e._e()])},b=[function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"is-icon prefix",attrs:{"aria-hidden":"true"}},[n("i",{staticClass:"icon-search"})])}],C=function(e){e&&e("data-v-71ce312c_0",{source:".c-search-form[data-v-71ce312c]{display:block}@media screen and (min-width:769px),print{.c-search-form[data-v-71ce312c]{display:flex;flex-direction:row}}.c-button-container[data-v-71ce312c]{margin-top:1rem}@media screen and (min-width:769px),print{.c-button-container[data-v-71ce312c]{margin-top:0}.c-button-container .c-create-btn[data-v-71ce312c]{border-radius:3px;margin-left:.5rem;height:100%}}.c-search .addons[data-v-71ce312c]{display:flex;align-items:center;margin-right:.5rem}.c-search .input[data-v-71ce312c]{position:relative;padding:0 0 5px 2.5rem;flex-wrap:wrap;justify-content:flex-start;min-height:2.75rem;height:fit-content;cursor:text}.c-search .input p[data-v-71ce312c]{display:inline}.c-search .input[data-v-71ce312c]:focus-within{box-shadow:0 0 0 2px var(--primary_1);border-color:var(--primary_0)}.c-search .profile-wrapper[data-v-71ce312c]{display:inline-flex;margin:5px 5px 0 0}.c-search .profile-wrapper .profile[data-v-71ce312c]{cursor:default;display:flex;align-items:flex-start;border-radius:3px;background-color:var(--general_1);line-height:1;padding:.25rem;width:fit-content}.c-search .profile-wrapper .profile[data-v-71ce312c]:hover{background-color:var(--general_0)}.c-search .profile-wrapper .profile .c-name[data-v-71ce312c]{display:inline-flex;align-items:center;margin-left:.5rem;min-height:1.5rem;color:var(--text_0);word-break:break-word}.c-search .profile-wrapper .profile .button[data-v-71ce312c]{margin-left:.5rem}.c-search .c-keyword[data-v-71ce312c]{margin-top:5px;display:block;line-height:2.2rem;overflow-wrap:anywhere;min-width:1rem}.c-search .c-keyword[data-v-71ce312c]:focus{outline:0}",map:void 0,media:void 0})},w="data-v-71ce312c",k=void 0,S=!1;function $(e,i,n,r,s,c,a,l,d,u){let t=(typeof n=="function"?n.options:n)||{};t.__file=`style>
`,t.render||(t.render=e.render,t.staticRenderFns=e.staticRenderFns,t._compiled=!0,s&&(t.functional=!0)),t._scopeId=r;{let f;if(i&&(f=a?function(o){i.call(this,u(o,this.$root.$options.shadowRoot))}:function(o){i.call(this,l(o))}),f!==void 0)if(t.functional){let o=t.render;t.render=function(y,m){return f.call(m),o(y,m)}}else{let o=t.beforeCreate;t.beforeCreate=o?[].concat(o,f):[f]}}return t}function p(){let e=p.styles||(p.styles={}),i=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(r,s){if(document.querySelector('style[data-vue-ssr-id~="'+r+'"]'))return;let c=i?s.media||"default":r,a=e[c]||(e[c]={ids:[],parts:[],element:void 0});if(!a.ids.includes(r)){let l=s.source,d=a.ids.length;if(a.ids.push(r),s.map&&(l+=`
/*# sourceURL=`+s.map.sources[0]+" */",l+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(s.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+c+"]")),!a.element){let u=document.head||document.getElementsByTagName("head")[0],t=a.element=document.createElement("style");t.type="text/css",s.media&&t.setAttribute("media",s.media),i&&(t.setAttribute("data-group",c),t.setAttribute("data-next-index","0")),u.appendChild(t)}if(i&&(d=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",d+1)),a.element.styleSheet)a.parts.push(l),a.element.styleSheet.cssText=a.parts.filter(Boolean).join(`
`);else{let u=document.createTextNode(l),t=a.element.childNodes;t[d]&&a.element.removeChild(t[d]),t.length?a.element.insertBefore(u,t[d]):a.element.appendChild(u)}}}}var R=$({render:x,staticRenderFns:b},C,g,w,S,k,!1,p,void 0,void 0),T=R;export{T as a};
//# sourceMappingURL=chunk-M7PD3C7C-cached.js.map
