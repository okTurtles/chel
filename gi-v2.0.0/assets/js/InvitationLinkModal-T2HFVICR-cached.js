import{a as S}from"./chunk-NUXCLDQR-cached.js";import{a as C}from"./chunk-EDZL4VNV-cached.js";import{a as x}from"./chunk-L3DDQKT5-cached.js";import{m as k}from"./chunk-3V7YD6RE-cached.js";import"./chunk-KRTYB7RO-cached.js";import{r as g}from"./chunk-SZPI64OI-cached.js";import{a as y}from"./chunk-BZWIYGWR-cached.js";import"./chunk-SVSS5DEP-cached.js";import"./chunk-MEHASGB7-cached.js";import"./chunk-Z7X5SDSD-cached.js";import{w as v}from"./chunk-M3EDVPDK-cached.js";import"./chunk-33M5GGRR-cached.js";import{a as p}from"./chunk-OMOH7TRL-cached.js";import{d as h}from"./chunk-WBBXU2FL-cached.js";import"./chunk-XMZXE55N-cached.js";var I={name:"InvitationLinkModal",components:{ModalTemplate:y,LinkToCopy:C,SvgBrokenLink:x},computed:{...h(["currentWelcomeInvite","currentGroupState"]),welcomeInviteSecret(){let e=this.currentGroupState._vm.invites?.[this.currentWelcomeInvite.inviteId]?.inviteSecret;if(!e){console.error(`undefined key for welcomeInviteId: ${this.currentWelcomeInvite.inviteId}`);return}return e},link(){let e=this.welcomeInviteSecret;if(e)return S(this.$store.state.currentGroupId,this.currentGroupState.settings?.groupName,e)},expireDate(){return k(this.currentWelcomeInvite.expires,{month:"long",day:"numeric"})},anyoneLinkMax(){return g}},methods:{close(){this.$refs.modal.close()},handleBrokenInviteClick(e){e.target.classList.contains("js-click")&&p("okTurtles.events/emit",v,"UserSettingsModal",{section:"application-logs",errorMsg:"Undefined key for invite"})}}},R=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("modal-template",{ref:"modal",attrs:{a11yTitle:e.L("Add new members")},scopedSlots:e._u([{key:"title",fn:function(){return[n("i18n",[e._v("Add new members")])]},proxy:!0}])},[n("div",{staticClass:"c-container"},[e.link?[n("i18n",{staticClass:"is-title-4",attrs:{tag:"h3"}},[e._v("Share this link to grant access to your group.")]),n("i18n",{staticClass:"has-text-1",attrs:{tag:"p",args:{count:e.anyoneLinkMax}}},[e._v("After the onboarding period has ended, everyone will be asked to vote on whether or not a new member should be added. But for now, enjoy {count} free passes!")]),n("link-to-copy",{staticClass:"c-link",attrs:{link:e.link}}),e.expireDate?n("i18n",{staticClass:"has-text-1",attrs:{tag:"p",args:{expireDate:e.expireDate}}},[e._v("This invite link expires on {expireDate}.")]):n("i18n",{staticClass:"has-text-1",attrs:{tag:"p"}},[e._v("This invite link doesn't expire")]),n("i18n",{staticClass:"is-outlined c-cta",attrs:{tag:"button"},on:{click:function(o){return o.preventDefault(),e.close(o)}}},[e._v("Awesome")])]:n("div",{staticClass:"c-broken"},[n("svg-broken-link",{staticClass:"c-svg"}),n("i18n",{staticClass:"is-title-4",attrs:{tag:"h3"}},[e._v("Broken invite link!")]),n("i18n",{attrs:{tag:"p",args:{a_:'<button class="link js-click">',_a:"</button>"}},on:{click:e.handleBrokenInviteClick}},[e._v("See {a_}logs for details{_a}.")]),n("i18n",{staticClass:"is-outlined c-cta",attrs:{tag:"button"},on:{click:function(o){return o.preventDefault(),e.close(o)}}},[e._v("OK")])],1)],2)])},T=[],w=function(e){e&&e("data-v-2c9dd8e4_0",{source:".c-container[data-v-2c9dd8e4]{text-align:center;max-width:100%}.c-link[data-v-2c9dd8e4]{margin-top:2rem;margin-bottom:.5rem}.c-cta[data-v-2c9dd8e4]{margin-top:2rem}",map:void 0,media:void 0})},A="data-v-2c9dd8e4",E=void 0,L=!1;function M(e,r,n,o,s,u,i,c,d,l){let t=(typeof n=="function"?n.options:n)||{};t.__file=`style>
`,t.render||(t.render=e.render,t.staticRenderFns=e.staticRenderFns,t._compiled=!0,s&&(t.functional=!0)),t._scopeId=o;{let m;if(r&&(m=i?function(a){r.call(this,l(a,this.$root.$options.shadowRoot))}:function(a){r.call(this,c(a))}),m!==void 0)if(t.functional){let a=t.render;t.render=function(b,f){return m.call(f),a(b,f)}}else{let a=t.beforeCreate;t.beforeCreate=a?[].concat(a,m):[m]}}return t}function _(){let e=_.styles||(_.styles={}),r=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(o,s){if(document.querySelector('style[data-vue-ssr-id~="'+o+'"]'))return;let u=r?s.media||"default":o,i=e[u]||(e[u]={ids:[],parts:[],element:void 0});if(!i.ids.includes(o)){let c=s.source,d=i.ids.length;if(i.ids.push(o),s.map&&(c+=`
/*# sourceURL=`+s.map.sources[0]+" */",c+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(s.map))))+" */"),r&&(i.element=i.element||document.querySelector("style[data-group="+u+"]")),!i.element){let l=document.head||document.getElementsByTagName("head")[0],t=i.element=document.createElement("style");t.type="text/css",s.media&&t.setAttribute("media",s.media),r&&(t.setAttribute("data-group",u),t.setAttribute("data-next-index","0")),l.appendChild(t)}if(r&&(d=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",d+1)),i.element.styleSheet)i.parts.push(c),i.element.styleSheet.cssText=i.parts.filter(Boolean).join(`
`);else{let l=document.createTextNode(c),t=i.element.childNodes;t[d]&&i.element.removeChild(t[d]),t.length?i.element.insertBefore(l,t[d]):i.element.appendChild(l)}}}}var U=M({render:R,staticRenderFns:T},w,I,A,L,E,!1,_,void 0,void 0),q=U;export{q as default};
//# sourceMappingURL=InvitationLinkModal-T2HFVICR-cached.js.map
