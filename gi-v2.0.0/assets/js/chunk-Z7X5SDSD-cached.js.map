{
  "version": 3,
  "sources": ["../../../frontend/utils/trapFocus.js"],
  "sourcesContent": ["const trapFocus = {\n  data ()                                                      {\n    return {\n      // focusedElement used when $el is not available (ex: the tooltip)\n      focusedElement: null,\n      focusableElements: 'a[href], area[href], ' +\n        'input:not([disabled]), select:not([disabled]), textarea:not([disabled]), ' +\n        'button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]'\n    }\n  },\n  methods: {\n    focusEl (el              = this.$el) {\n      // prepare the element to be focused programmatically\n      el.setAttribute('tabindex', '-1')\n      // ...and focus it for keyboard/screen reader users\n      el.focus()\n    },\n    trapFocus (e               ) {\n      const el = this.focusedElement || this.$el\n      // Trap focus on modal while navigating through clickable elements only\n      if (e.key === 'Tab') {\n        // look for focusableChilds each time tab is pressed\n        // to catch any element that may have changed disabled attr.\n        // ex: submit button gets enabled or a form step changed.\n        const focusableChilds = Array.from(el.querySelectorAll(this.focusableElements))\n        const firstFocusChild = focusableChilds[0]\n        const lastFocusChild = focusableChilds[focusableChilds.length - 1]\n\n        if (e.shiftKey) { // Shift + Tab\n          if (document.activeElement === firstFocusChild) {\n            // tab backwards, so go back to last element\n            e.preventDefault()\n            lastFocusChild.focus()\n          }\n        } else if (document.activeElement === lastFocusChild) {\n          // tab forwards, so go back to first element\n          e.preventDefault()\n          firstFocusChild.focus()\n        }\n      }\n    }\n  }\n}\n\nexport default trapFocus\n"],
  "mappings": "AAAA,IAAMA,EAAY,CAChB,MAA6D,CAC3D,MAAO,CAEL,eAAgB,KAChB,kBAAmB,gLAGrB,CACF,EACA,QAAS,CACP,QAASC,EAAkB,KAAK,IAAK,CAEnCA,EAAG,aAAa,WAAY,IAAI,EAEhCA,EAAG,MAAM,CACX,EACA,UAAW,EAAkB,CAC3B,IAAMA,EAAK,KAAK,gBAAkB,KAAK,IAEvC,GAAI,EAAE,MAAQ,MAAO,CAInB,IAAMC,EAAkB,MAAM,KAAKD,EAAG,iBAAiB,KAAK,iBAAiB,CAAC,EACxEE,EAAkBD,EAAgB,CAAC,EACnCE,EAAiBF,EAAgBA,EAAgB,OAAS,CAAC,EAE7D,EAAE,SACA,SAAS,gBAAkBC,IAE7B,EAAE,eAAe,EACjBC,EAAe,MAAM,GAEd,SAAS,gBAAkBA,IAEpC,EAAE,eAAe,EACjBD,EAAgB,MAAM,EAE1B,CACF,CACF,CACF,EAEOE,EAAQL",
  "names": ["trapFocus", "el", "focusableChilds", "firstFocusChild", "lastFocusChild", "trapFocus_default"]
}
