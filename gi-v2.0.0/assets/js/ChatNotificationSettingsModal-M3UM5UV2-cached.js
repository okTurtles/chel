import{b as x}from"./chunk-B4L7IMS4-cached.js";import{R as N,V as C}from"./chunk-SZPI64OI-cached.js";import"./chunk-R4DRX7L2-cached.js";import{a as y}from"./chunk-FTWBMR5D-cached.js";import{a as E}from"./chunk-BZWIYGWR-cached.js";import"./chunk-SVSS5DEP-cached.js";import"./chunk-MEHASGB7-cached.js";import"./chunk-Z7X5SDSD-cached.js";import{V as h}from"./chunk-M3EDVPDK-cached.js";import{b as _}from"./chunk-33M5GGRR-cached.js";import{a as f}from"./chunk-OMOH7TRL-cached.js";import{d as $}from"./chunk-WBBXU2FL-cached.js";import{e as g}from"./chunk-XMZXE55N-cached.js";var I=g(y()),p=g(x());var A={name:"ChatNotificationSettingsModal",mixins:[I.validationMixin],components:{ModalTemplate:E},computed:{...$(["chatNotificationSettings","currentChatRoomId"])},data(){return{options:C,form:{messageNotification:null,messageSound:null}}},created(){let e;this.chatNotificationSettings[this.currentChatRoomId]?e=this.chatNotificationSettings[this.currentChatRoomId]:e=f("state/vuex/state")[this.currentChatRoomId]?.attributes?.privacyLevel===N.PRIVATE?this.chatNotificationSettings.privateDefault:this.chatNotificationSettings.publicDefault,this.form.messageNotification=e.messageNotification,this.form.messageSound=e.messageSound},methods:{close(){this.$refs.modal.close()},submit(){f("okTurtles.events/emit",h,{chatRoomID:this.currentChatRoomId,settings:this.form}),this.close()}},validations:{form:{messageNotification:{[_("This field is required")]:p.required},messageSound:{[_("This field is required")]:p.required}}}},R=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("modal-template",{ref:"modal",attrs:{a11yTitle:e.L("Notifications")}},[t("template",{slot:"title"},[t("i18n",[e._v("Notifications")])],1),t("form",{attrs:{novalidate:"novalidate","data-test":"updateNotificationSettings"},on:{submit:function(i){i.preventDefault()}}},[t("fieldset",{staticClass:"is-column"},[t("legend",{staticClass:"legend"},[t("i18n",[e._v("Send notifications for:")])],1),t("label",{staticClass:"radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.messageNotification.$model,expression:"$v.form.messageNotification.$model"}],staticClass:"input",attrs:{type:"radio",name:"messageNotification"},domProps:{value:e.options.ALL_MESSAGES,checked:e._q(e.$v.form.messageNotification.$model,e.options.ALL_MESSAGES)},on:{change:function(i){return e.$set(e.$v.form.messageNotification,"$model",e.options.ALL_MESSAGES)}}}),t("i18n",[e._v("All new messages")])],1),t("label",{staticClass:"radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.messageNotification.$model,expression:"$v.form.messageNotification.$model"}],staticClass:"input",attrs:{type:"radio",name:"messageNotification"},domProps:{value:e.options.DIRECT_MESSAGES,checked:e._q(e.$v.form.messageNotification.$model,e.options.DIRECT_MESSAGES)},on:{change:function(i){return e.$set(e.$v.form.messageNotification,"$model",e.options.DIRECT_MESSAGES)}}}),t("i18n",[e._v("Direct messages and mentions")])],1),t("label",{staticClass:"radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.messageNotification.$model,expression:"$v.form.messageNotification.$model"}],staticClass:"input",attrs:{type:"radio",name:"messageNotification"},domProps:{value:e.options.NOTHING,checked:e._q(e.$v.form.messageNotification.$model,e.options.NOTHING)},on:{change:function(i){return e.$set(e.$v.form.messageNotification,"$model",e.options.NOTHING)}}}),t("i18n",[e._v("Nothing")])],1)]),t("fieldset",{staticClass:"is-column"},[t("legend",{staticClass:"legend"},[t("i18n",[e._v("Sounds:")])],1),t("label",{staticClass:"radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.messageSound.$model,expression:"$v.form.messageSound.$model"}],staticClass:"input",attrs:{type:"radio",name:"messageSound"},domProps:{value:e.options.ALL_MESSAGES,checked:e._q(e.$v.form.messageSound.$model,e.options.ALL_MESSAGES)},on:{change:function(i){return e.$set(e.$v.form.messageSound,"$model",e.options.ALL_MESSAGES)}}}),t("i18n",[e._v("Play sounds for all new messages")])],1),t("label",{staticClass:"radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.messageSound.$model,expression:"$v.form.messageSound.$model"}],staticClass:"input",attrs:{type:"radio",name:"messageSound"},domProps:{value:e.options.DIRECT_MESSAGES,checked:e._q(e.$v.form.messageSound.$model,e.options.DIRECT_MESSAGES)},on:{change:function(i){return e.$set(e.$v.form.messageSound,"$model",e.options.DIRECT_MESSAGES)}}}),t("i18n",[e._v("Play sounds for direct messages and mentions")])],1),t("label",{staticClass:"radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.messageSound.$model,expression:"$v.form.messageSound.$model"}],staticClass:"input",attrs:{type:"radio",name:"messageSound"},domProps:{value:e.options.NOTHING,checked:e._q(e.$v.form.messageSound.$model,e.options.NOTHING)},on:{change:function(i){return e.$set(e.$v.form.messageSound,"$model",e.options.NOTHING)}}}),t("i18n",[e._v("Mute all sounds from chat notifications")])],1)]),t("div",{staticClass:"buttons"},[t("i18n",{staticClass:"is-outlined",attrs:{tag:"button"},on:{click:e.close}},[e._v("Cancel")]),t("i18n",{staticClass:"is-success",attrs:{tag:"button","data-test":"updateNotificationSettings"},on:{click:e.submit}},[e._v("Save")])],1)])],2)},b=[],G=function(e){e&&e("data-v-75a48a3a_0",{source:"fieldset[data-v-75a48a3a]:nth-child(2){margin-top:2rem}",map:void 0,media:void 0})},L="data-v-75a48a3a",M=void 0,O=!1;function k(e,s,t,i,a,c,n,d,m,l){let o=(typeof t=="function"?t.options:t)||{};o.__file=`style>
`,o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,a&&(o.functional=!0)),o._scopeId=i;{let u;if(s&&(u=n?function(r){s.call(this,l(r,this.$root.$options.shadowRoot))}:function(r){s.call(this,d(r))}),u!==void 0)if(o.functional){let r=o.render;o.render=function(T,S){return u.call(S),r(T,S)}}else{let r=o.beforeCreate;o.beforeCreate=r?[].concat(r,u):[u]}}return o}function v(){let e=v.styles||(v.styles={}),s=typeof navigator<"u"&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(i,a){if(document.querySelector('style[data-vue-ssr-id~="'+i+'"]'))return;let c=s?a.media||"default":i,n=e[c]||(e[c]={ids:[],parts:[],element:void 0});if(!n.ids.includes(i)){let d=a.source,m=n.ids.length;if(n.ids.push(i),a.map&&(d+=`
/*# sourceURL=`+a.map.sources[0]+" */",d+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(a.map))))+" */"),s&&(n.element=n.element||document.querySelector("style[data-group="+c+"]")),!n.element){let l=document.head||document.getElementsByTagName("head")[0],o=n.element=document.createElement("style");o.type="text/css",a.media&&o.setAttribute("media",a.media),s&&(o.setAttribute("data-group",c),o.setAttribute("data-next-index","0")),l.appendChild(o)}if(s&&(m=parseInt(n.element.getAttribute("data-next-index")),n.element.setAttribute("data-next-index",m+1)),n.element.styleSheet)n.parts.push(d),n.element.styleSheet.cssText=n.parts.filter(Boolean).join(`
`);else{let l=document.createTextNode(d),o=n.element.childNodes;o[m]&&n.element.removeChild(o[m]),o.length?n.element.insertBefore(l,o[m]):n.element.appendChild(l)}}}}var P=k({render:R,staticRenderFns:b},G,A,L,O,M,!1,v,void 0,void 0),V=P;export{V as default};
//# sourceMappingURL=ChatNotificationSettingsModal-M3UM5UV2-cached.js.map
