/* esm.sh - esbuild bundle(multiformats@9.9.0/bases/base58) denonext production */
function B(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var l=0;l<r.length;l++){var g=r.charAt(l),E=g.charCodeAt(0);if(n[E]!==255)throw new TypeError(g+" is ambiguous");n[E]=l}var y=r.length,S=r.charAt(0),M=Math.log(y)/Math.log(256),O=Math.log(256)/Math.log(y);function R(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length===0)return"";for(var i=0,u=0,f=0,c=t.length;f!==c&&t[f]===0;)f++,i++;for(var d=(c-f)*O+1>>>0,s=new Uint8Array(d);f!==c;){for(var h=t[f],p=0,a=d-1;(h!==0||p<u)&&a!==-1;a--,p++)h+=256*s[a]>>>0,s[a]=h%y>>>0,h=h/y>>>0;if(h!==0)throw new Error("Non-zero carry");u=p,f++}for(var w=d-u;w!==d&&s[w]===0;)w++;for(var v=S.repeat(i);w<d;++w)v+=r.charAt(s[w]);return v}function z(t){if(typeof t!="string")throw new TypeError("Expected String");if(t.length===0)return new Uint8Array;var i=0;if(t[i]!==" "){for(var u=0,f=0;t[i]===S;)u++,i++;for(var c=(t.length-i)*M+1>>>0,d=new Uint8Array(c);t[i];){var s=n[t.charCodeAt(i)];if(s===255)return;for(var h=0,p=c-1;(s!==0||h<f)&&p!==-1;p--,h++)s+=y*d[p]>>>0,d[p]=s%256>>>0,s=s/256>>>0;if(s!==0)throw new Error("Non-zero carry");f=h,i++}if(t[i]!==" "){for(var a=c-f;a!==c&&d[a]===0;)a++;for(var w=new Uint8Array(u+(c-a)),v=u;a!==c;)w[v++]=d[a++];return w}}}function _(t){var i=z(t);if(i)return i;throw new Error(`Non-${e} character`)}return{encode:R,decodeUnsafe:z,decode:_}}var T=B,V=T,$=V;var F=new Uint8Array(0);var k=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};var A=class{constructor(e,n,o){this.name=e,this.prefix=n,this.baseEncode=o}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},b=class{constructor(e,n,o){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return N(this,e)}},x=class{constructor(e){this.decoders=e}or(e){return N(this,e)}decode(e){let n=e[0],o=this.decoders[n];if(o)return o.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},N=(r,e)=>new x({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),U=class{constructor(e,n,o,l){this.name=e,this.prefix=n,this.baseEncode=o,this.baseDecode=l,this.encoder=new A(e,n,o),this.decoder=new b(e,n,l)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},X=({name:r,prefix:e,encode:n,decode:o})=>new U(r,e,n,o),m=({prefix:r,name:e,alphabet:n})=>{let{encode:o,decode:l}=$(n,e);return X({prefix:r,name:e,encode:o,decode:g=>k(l(g))})};var G=m({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),I=m({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});export{G as base58btc,I as base58flickr};
//# sourceMappingURL=base58.js.map